(this["webpackJsonptech-corner"]=this["webpackJsonptech-corner"]||[]).push([[0],{140:function(e,t,a){e.exports=a.p+"static/media/logo-light-blue.b42be366.png"},141:function(e,t,a){e.exports=a.p+"static/media/logo-dark-blue.418c0aac.png"},298:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYBAMAAABoWJ9DAAAALVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADBoCg+AAAAD3RSTlMAXgYsRRgTViRKHAw8UTLfejSWAAAG1UlEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGD27V8nqiAKwPjJggi7hOQIAosswT+FhSRa2kHiA7CVLVhQWLkxoZCG7WiJdjYkvsB2tKyllcsTQOdjaBaVuXPuXkHu3BnN93uFL7lzMnMPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMD1IBZBjicDjaV5JPA1BhrPrMA3rjFtCjzbGtOJwNPVmL4KkgryRkCQtBEkMQRJzDDIhxfV2yDI6CBHUr0pghDkX0CQxBAkMQRJDEESQ5DEECQxBEkMQRJDkMQQJDEESQxBEkOQxOQEaezsSA6CVMEGmXiuqq0vYhCkAjZI/VCH3q6KhyDh2SCNDf3pnXgIEp4N0tXfPksWQYKzQab1UqsnGQQJzgbpq+NUsggSmA0ypq6mZBAkNBukrRln4iJIaDbIQDPuSgZBwrJBxjSrKS6CBGaD3C5ccCJIYDZIt3DBiSCB2SAb6rkjDoIEZoOob0kcBAnLBplQ34o4CBKWDTKpvjlxECQsG2RGfS1xECRXpUEWxEGQXAT5z/HJSgyHemKcILfUtywOgoRlg9TUtygOgoRlg8iheu6JiyAFqrlcXBcHQQKzQe6rZ18cBAnMBpm50dRb+/StR5BSg9Q6N7jsrZ2rNo8IUmYQ6d7gferlcE7uEaTMINPqaq3K1dV1aJcgZQWxb4a7cg1tvbBFkDKDPNJLC1tydY2OXtgjSDlB7L+kH687xA41CVJqkHrn755vz/WXM4KUGUQeDovYealY3ZmVCVJqEHnc1x/e9+Q6jp2jp0eQkpc+Xx8cvJKrstPZOkGir0XPqGOFINGDtNW1SZDIQRodde0RJHKQcc2YI0jkIM806ylBogaZUM88QaIGWVNPa5UgMYP01XdCkIhBJtVYJEjEINtqbREkWpDaQK1TgkQLMq05lgkSLUhX8+wTJFKQRkfz7BEkUpApzdUkSKQg55rvjCBRgtR1hCWCRAlyrCMs9AgSI8iGjrJOkAhBxnSkWYJECNLW0TYJUmEQs79gnRKk8iDTWmCZIJUH6WqRfYJUHGRCC80TpOIga1qotUqQaoP0tdgJQSoNMql/sEiQSoN8Z++OVdSIojCOg6viqggfuuvqumKXStAiveYJtEiXgDaBkMq0NvoGTp9AfAOtbPUR9AmybxLYpEsOc++dc25c+P7tTPerLt8dZo+0dgQxAPnw/du/nydIa0MQfZDPAFoT4cp7Sl2CqIOUxUPeFulNCKINssZL74TtNqWvBFEGKeB3rZ683UKuQRBlkIN4phjCpQFBdEESad4owKk7gqiC1MTboQc41ewRRBNkKs4bY7g1IogiSGUhzRs3cKxOEEWQvDhvzOHajCB6IENp3sid4dqFIGogRXHeqMK5DkHUQPrivLGGeyuCaIGcpHmjCI8eCaIEUhLnjT48ahFECWQuzhsn+HQkiApI7izNGyV41SaICkgVf/XnvQO8au4IogGyFj9US+DXhiAKIJWFNG/U4FmXIAogt+K8sYVvE4JkB3mW5o3KAr4tCZIZpCzOG3l41yBIZpCDeKYYwr8BQbKCjKV5o4CA7gmSEeQGQrM+AnrqESQbyBRClxNCOhIkE4g8QLUQ1ANBMoFUod2MIFlA1tDuQpAMIEWo1yFIBpA+9FsRJBzkBP2WBAkGKcGgFkGCQfaw6CdBQkESWNQmSCBIDSY1dwQJA9nCphFBgkAqC9hUJ0gQSB5WTQgSAjKEVReCBIAUYFaHIAEgb2DXiiD+IGPYdU8Qb5AbGPbUI4gvyByWHQniCZI7w7IHgniCVGHbjiB+IGvYtiGIF0gFxnUJ4gVyC+t+EMQH5BnWLQniAVKGeQ2CeIAcYN+AIO4gCey7I4gzSA0RavYI4goyRYxGBHEEyS0QozpBHEHyiNOMIG4gQ8TpQhAnkCIi1SGIE0gfsVoRxAXkhFg9EsQBpIRotQjiALJHvI4ESQdJEK82QVJBcp8i9oUgaSBW8f8hBHnlEeTKIsiVRZAr6wXk7fv4fSSIAPK/IghBfrFHxzQAAjEAAJswMlUACUggbNjDABbQxYIU9kdAn+TOwv2BkM4I6YyQzlxZ6QwaS1Z6gsaQhaY5aK1Z5w4+xmOrsgcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALztwSEBAAAAgKD/r51hAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgFJxAtJ60EBzsAAAAAElFTkSuQmCC"},314:function(e,t,a){e.exports=a(366)},319:function(e,t,a){},366:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),i=a.n(o),c=(a(319),a(16)),l=a(392),s=a(393),u=a(72),m=a(370),p=a(280),d=a.n(p),g=a(150),h=a.n(g),f=a(272),E=a(136),A=a(271),b=a(394),v=a(149),O=a.n(v),C=a(281),y=a.n(C),j=a(368),I=a(140),S=a.n(I),k=a(141),R=a.n(k),N=a(66),T=a(23),w=a(269),x=Object(w.a)((function(e){return{root:{flexGrow:1},bar:{boxShadow:"0px 2px 2px -1px rgba(0,0,0,0.1), 0px 2px 5px 0px rgba(0,0,0,0.05), 0px 1px 5px 0px rgba(0,0,0,0.05)"},menuButton:Object(T.a)({marginRight:16,color:e.palette.primary.main},e.breakpoints.up("md"),{display:"none"}),title:{flexGrow:1,color:"default"},logo:Object(T.a)({height:35,marginLeft:0,marginTop:5},e.breakpoints.up("md"),{paddingLeft:46}),menuItem:{paddingRight:window.innerWidth<600?"6px":"16px",paddingLeft:window.innerWidth<600?"6px":"16px"},link:{textDecoration:"none",color:e.palette.primary.main}}})),B=Object(w.a)((function(e){return{title:{textAlign:"center",paddingBottom:16},list:{width:250,marginTop:8},fullList:{width:"auto"},divider:{marginBottom:12},logo:{height:35,marginLeft:0,marginTop:5},root:{display:"flex"},drawer:Object(T.a)({},e.breakpoints.up("md"),{width:240,flexShrink:0}),appBar:Object(T.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},permanentDrawer:{marginTop:64},content:{flexGrow:1,padding:e.spacing(3)}}}));function L(e){var t=e.toggleDrawer,a=e.auth,n=e.loading,o=Object(j.a)("(prefers-color-scheme: dark)"),i=x(),p=r.a.useState(null),g=Object(c.a)(p,2),v=g[0],C=g[1],I=Boolean(v),k=function(){C(null)};return r.a.createElement("div",{className:i.root},r.a.createElement(l.a,{className:i.bar,color:"default",position:"fixed"},r.a.createElement(s.a,null,r.a.createElement(m.a,{onClick:t,edge:"start",className:i.menuButton,"aria-label":"menu"},r.a.createElement(d.a,null)),r.a.createElement(u.a,{variant:"h6",className:i.title},r.a.createElement(N.b,{to:"/"},r.a.createElement("img",{src:o?S.a:R.a,className:i.logo,alt:"app-log"}))),a||n?"":r.a.createElement(N.b,{to:"/signin",className:i.link},r.a.createElement(A.a,{color:"inherit"},"Sign In")),a&&!n?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:i.menuItem},r.a.createElement(m.a,{"aria-label":"show 4 new mails"},r.a.createElement(b.a,{badgeContent:4,color:"secondary"},r.a.createElement(O.a,null)))),r.a.createElement(f.a,{className:i.menuItem},r.a.createElement(m.a,{"aria-label":"show 11 new notifications",color:"inherit"},r.a.createElement(b.a,{badgeContent:11,color:"secondary"},r.a.createElement(y.a,null)))),r.a.createElement("div",null,window.innerWidth>500&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:i.menuItem},r.a.createElement(m.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){C(e.currentTarget)},color:"inherit"},r.a.createElement(h.a,null))),r.a.createElement(E.a,{id:"menu-appbar",anchorEl:v,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:I,onClose:k},r.a.createElement(f.a,{onClick:k},"Profile"),r.a.createElement(f.a,{onClick:k},"My account"))))):"")))}var G=a(2),_=a(13),U=a(374),Q=a(273),F=a(50),D=a(282),P=a.n(D),M=a(285),H=a.n(M),W=a(284),z=a.n(W),K=a(286),J=a.n(K),V=a(283),Y=a.n(V),q=a(287),Z=a.n(q),X=a(92),$=a.n(X),ee=a(15);var te=function(e){var t=Object(j.a)("(prefers-color-scheme: dark)");return r.a.createElement("img",{src:t?S.a:R.a,className:e.className,alt:"App Logo"})},ae=a(399),ne=a(417),re=a(371),oe=a(397),ie=a(398),ce=function(e){var t=e.icon;return r.a.createElement(re.a,{button:!0,key:e.name,onClick:function(){e.onClick&&e.onClick()},selected:e.selected},r.a.createElement(oe.a,null,r.a.createElement(b.a,{badgeContent:e.badgeCount,color:"secondary"},r.a.createElement(t,null))),r.a.createElement(ie.a,{primary:e.name}))};var le=Object(_.f)((function(e){var t=B(),a=Object(ee.a)(),n=e.open,o=e.toggleDrawer,i=e.auth,c=e.username,l=e.signOut,s=e.history,m=(e.loading,[{name:"Home",icon:P.a,onClick:function(){return s.push("/")},path:"/"},{name:"Favorites",icon:$.a,onClick:function(){return s.push("/favorites")},path:"/favorites"},{name:"Sell an Item",icon:Y.a,onClick:function(){return s.push("/sell")},path:"/sell"},{name:"Info",icon:z.a,path:"/info"}]),p=i?[{name:c,icon:h.a,path:""},{name:"Messages",icon:O.a,badgeCount:4,path:""},{name:"Sign Out",icon:H.a,onClick:function(){return l()},path:""}]:[{name:"Sign In",icon:J.a,onClick:function(){return e.history.push("/signin")},path:"/signin"},{name:"Register",icon:Z.a,onClick:function(){return e.history.push("/signup")},path:"/signup"}],d=function(a){return r.a.createElement("div",{className:Object(G.default)(t.list),role:"presentation",onClick:function(){return a&&o()},onKeyDown:function(){return a&&o()}},r.a.createElement(U.a,null,a&&r.a.createElement(u.a,{variant:"h6",className:t.title},r.a.createElement(te,{className:t.logo})),m.map((function(t,a){return r.a.createElement(ce,{key:a,name:t.name,icon:t.icon,onClick:t.onClick,selected:e.location.pathname===t.path})}))),r.a.createElement(Q.a,{className:t.divider}),p.map((function(t,a){return r.a.createElement(ce,{key:a,name:t.name,icon:t.icon,badgeCount:t.badgeCount,onClick:t.onClick,selected:e.location.pathname===t.path})})))},g=void 0!==window?function(){return window.document.body}:void 0;return r.a.createElement("div",{className:t.root},r.a.createElement(ae.a,null),r.a.createElement("nav",{className:t.drawer,"aria-label":"mailbox folders"},r.a.createElement(ne.a,{mdDown:!0,implementation:"css"},r.a.createElement(F.a,{container:g,variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:n,onClose:o,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},d(!0))),r.a.createElement(ne.a,{smDown:!0,implementation:"css"},r.a.createElement(F.a,{classes:{paper:t.permanentDrawer},variant:"permanent",open:!0},d(!1)))))})),se=a(42),ue=a(71),me=a.n(ue),pe=a(157),de=function(e){return{type:e+"_BEGIN"}},ge=function(e,t){return{type:e+"_SUCCESS",payload:{data:t}}},he=function(e,t){return{type:e+"_FAILURE",payload:{error:t}}},fe="";fe="http://localhost:4000/api";var Ee=function(e,t,a,n,r){return new Promise((function(o,i){var c=new URL(fe+t),l=a;c.search=new URLSearchParams(l).toString(),n||(n={}),"multipart/form-data"===n["Content-Type"]?delete n["Content-Type"]:n["Content-Type"]||(n["Content-Type"]="application/json");var s={method:e,credentials:"include",headers:n};r&&(r instanceof FormData?s.body=r:s.body=JSON.stringify(r)),fetch(c.toString(),s).then(function(){var e=Object(pe.a)(me.a.mark((function e(t){var a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,401===t.status?new Promise((function(e,t){fetch("".concat(fe,"/v1/users/access-token"),{method:"GET",credentials:"include"}).then(function(){var a=Object(pe.a)(me.a.mark((function a(n){var r;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.json();case 2:if((r=a.sent).status=n.status,200===n.status){a.next=8;break}return a.abrupt("return",t(r));case 8:e();case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){return t(new Error(e))}))})).then((function(){fetch(c.toString(),s).then(function(){var e=Object(pe.a)(me.a.mark((function e(t){var a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(a=e.sent).status=t.status,200!==t.status?i(a):o(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){return i(e)})):200!==t.status?(a.status=t.status,i(a)):o(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),i(new Error(e))}))}))};var Ae=function(e,t,a){return function(n){n({type:"SNACK_BAR",open:e,content:t,severity:a})}};var be=Object(se.b)((function(e){var t=e.authReducer;return{response:t.checkAuthResponse,signOutResponse:t.signOutResponse,loading:t.checkAuthLoading,error:t.checkAuthError}}),(function(e){return{signOut:function(t){return e(function(e){return function(t){t(de("AUTH")),Ee("GET","/v1/users/signout").then((function(a){sessionStorage.clear(),t(ge("SIGN_OUT",a)),e&&e()})).catch((function(a){t(he("SIGN_OUT",a)),e&&e()}))}}(t))},checkAuth:function(){return e((function(e){e(de("CHECK_AUTH")),Ee("GET","/v1/users/check-auth").then((function(t){e(ge("CHECK_AUTH",t))})).catch((function(t){return e(he("CHECK_AUTH",t))}))}))},displaySnackBar:function(t,a,n){e(Ae(t,a,n))}}}))(Object(_.f)((function(e){var t=e.checkAuth,a=e.response,o=e.signOut,i=e.history,l=e.loading,s=e.displaySnackBar,u=(e.signOutResponse,r.a.useState(!1)),m=Object(c.a)(u,2),p=m[0],d=m[1],g=r.a.useState(!1),h=Object(c.a)(g,2),f=h[0],E=h[1];Object(n.useEffect)((function(){t()}),[i.location]),Object(n.useEffect)((function(){E(!!a)}),[a,l]);var A=function(){d(!p)},b=a?"".concat(a.firstName," ").concat(a.lastName):"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{auth:f,toggleDrawer:A,loading:l}),r.a.createElement(le,{auth:f,open:p,loading:l,toggleDrawer:A,username:b,signOut:function(){o((function(){s(!0,"Signed out successfully","success"),i.push("/")}))}}))}))),ve=a(82),Oe=a(408),Ce=a(289),ye=a(290),je=a(306),Ie=a(307),Se=a(203),ke=a(412),Re=a(410);function Ne(e,t){return function(a){a(de("GET_ITEMS")),Ee("GET","/v1/items",{page:e,page_limit:10}).then((function(e){a(ge("GET_ITEMS",e)),t&&t()})).catch((function(e){return a(he("GET_ITEMS",e.message))}))}}function Te(){return function(e){e(de("GET_CATEGORIES")),Ee("GET","/v1/categories").then((function(t){e(ge("GET_CATEGORIES",t))})).catch((function(t){return e(he("GET_CATEGORIES",t.message))}))}}function we(e){return function(t){Ee("GET","/v1/items/".concat(e,"/favorite")).then((function(e){t(ge("ADD_FAVORITE",e)),t(Ae(!0,"Added to favorites","success"))})).catch((function(e){t(he("ADD_FAVORITE",e)),401===e.status?t(Ae(!0,"Sign in to track your favorite items","warning")):t(Ae(!0,e.reason,"info"))}))}}var xe=Object(w.a)((function(e){var t;return{container:{background:e.palette.background.paper},gridContainer:{maxWidth:1300},grid:{gridGap:"1rem"},i:{width:383,paddingLeft:12,paddinRight:12},title:(t={color:e.palette.primary.main,marginTop:62,paddingLeft:16,width:383},Object(T.a)(t,e.breakpoints.down("xs"),{textAlign:"center",paddingLeft:0}),Object(T.a)(t,e.breakpoints.down("md"),{fontSize:27,marginBottom:0}),t)}})),Be=a(64),Le=a.n(Be),Ge=a(274),_e=a(400),Ue=Object(w.a)((function(e){return{grid:Object(T.a)({paddingTop:42,paddingBottom:32,width:"100%",maxWidth:1100,marginRight:"auto",marginLeft:"auto"},e.breakpoints.down("sm"),{paddingTop:20}),inputBar:{background:e.palette.background.default},inputNotchedOutline:{borderColor:"".concat(e.palette.primary.main," !important")},inputLabel:{fontWeight:600},inputFocusedLabel:{color:"".concat(e.palette.primary.main," !important")}}}));function Qe(){var e=Ue();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_e.a,{className:e.grid,container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3},r.a.createElement(Ge.a,{id:"outlined-full-width",label:"Search",className:e.inputBar,placeholder:"Looking for something specific?",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0,classes:{root:e.inputLabel,focused:e.inputFocusedLabel}},InputProps:{classes:{notchedOutline:e.inputNotchedOutline}},variant:"outlined"})))}var Fe=Object(w.a)((function(e){var t;return{container:{paddingBottom:20},title:(t={color:e.palette.primary.main,marginTop:32,marginBottom:32,marginLeft:55},Object(T.a)(t,e.breakpoints.down("sm"),{fontSize:27,marginTop:26,marginBottom:26}),Object(T.a)(t,e.breakpoints.up("sm"),{textAlign:"left"}),t),item:{maxWidth:180,height:88,cursor:"pointer",borderRadius:20,transition:"all 0.2s ease-out","&:hover $icon":{fontSize:40},"&:hover":{background:"rgba(10, 10, 10, 0.085)"}},icon:{transition:"all 0.2s ease-out",fontSize:34,marginBottom:8,color:e.palette.primary.main,marginLeft:"auto",marginRight:"auto",width:"100%"},iconTitle:{fontSize:14,width:"100% !important",color:e.palette.primary.main}}})),De=a(292),Pe=a.n(De),Me=a(296),He=a.n(Me),We=a(294),ze=a.n(We),Ke=a(297),Je=a.n(Ke),Ve=a(293),Ye=a.n(Ve),qe=a(295),Ze=a.n(qe),Xe=a(291),$e=a.n(Xe);var et=Object(_.f)((function(e){var t=e.categories,a=Fe();return r.a.createElement("div",{className:a.container},r.a.createElement(_e.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:3},t.length>0&&t.map((function(e,t){var n=$e.a;return"Laptops & Computers"===e.name&&(n=Pe.a),"TV's & Monitors"===e.name&&(n=Ye.a),"Gaming Consoles"===e.name&&(n=ze.a),"Speakers & Headsets"===e.name&&(n=Ze.a),"Accessories"===e.name&&(n=He.a),"Smart Watches"===e.name&&(n=Je.a),r.a.createElement(_e.a,{item:!0,className:a.item,key:t},r.a.createElement(n,{className:a.icon}),r.a.createElement(u.a,{variant:"subtitle1",className:a.iconTitle,align:"center"},e.name))}))))})),tt=a(401),at=a(402),nt=a(405),rt=a(404),ot=a(403),it=a(298),ct=a.n(it),lt=a(154),st=a.n(lt),ut=Object(w.a)((function(e){return{root:{width:355,borderRadius:12,height:380,flexGrow:1,marginTop:16,marginRight:"auto",marginLeft:"auto",boxShadow:"0px 0px 0px -1px rgba(0,0,0,0.2), 0px 0px 0px 1px rgba(0,0,0,0.05), 0px 0px 1px 0px rgba(0,0,0,0.12)",backgroundColor:e.palette.background.default},media:{height:200},divider:{marginTop:8,marginBottom:12},price:{fontWeight:600,color:e.palette.primary.main,marginBottom:0},button:{marginLeft:"auto",marginRight:"auto",color:e.palette.primary.main},buttonIcon:{height:20,marginRight:12},date:{paddingTop:2}}})),mt=function(e){if(!e)return null;var t=Date.now(),a=parseInt(((t-e)/6e4).toFixed());if(a<1)return"Less than a minute ago";if(a<60)return"".concat(a," minutes ago");var n=parseInt((a/60).toFixed());if(n<24)return"".concat(n,1===n?" hour ago":" hours ago");var r=parseInt((n/24).toFixed());return r<24?"".concat(r," days ago"):void 0},pt=a(95),dt=a(299),gt=a(11),ht={authResponse:null,signOutResponse:null,checkAuthResponse:null,authError:null,checkAuthError:null,authLoading:!1,checkAuthLoading:!1};var ft={response:{},loadings:!1,error:null};var Et={response:{},loadings:!1,error:null};var At={open:!1,content:null,severity:null};var bt={response:{},loading:!1,error:null};var vt={favorites:{},response:null,loading:!1,error:null};var Ot={response:null,loading:!1,error:null};var Ct=Object(pt.d)(Object(pt.c)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN_BEGIN":case"SIGN_UP_BEGIN":return Object(gt.a)({},e,{authLoading:!0,authError:null});case"CHECK_AUTH_BEGIN":return Object(gt.a)({},e,{checkAuthLoading:!0,checkAuthError:null});case"SIGN_IN_SUCCESS":case"SIGN_UP_SUCCESS":return Object(gt.a)({},e,{authLoading:!1,authResponse:t.payload.data,authError:null});case"CHECK_AUTH_SUCCESS":return Object(gt.a)({},e,{checkAuthLoading:!1,checkAuthResponse:t.payload.data,checkAuthError:null,authError:null});case"SIGN_OUT_SUCCESS":return Object(gt.a)({},e,{authLoading:!1,authResponse:null,signOutResponse:t.payload.data,authError:null});case"SIGN_IN_FAILURE":case"SIGN_UP_FAILURE":return Object(gt.a)({},e,{authLoading:!1,authResponse:null,authError:t.payload.error});case"CHECK_AUTH_FAILURE":return Object(gt.a)({},e,{checkAuthLoading:!1,checkAuthResponse:null,checkAuthError:t.payload.error});case"SIGN_OUT_FAILURE":return Object(gt.a)({},e,{authLoading:!1,signOutError:t.payload.error,authError:null});default:return e}},fetchItemsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITEMS_BEGIN":return Object(gt.a)({},e,{loading:!0,error:null});case"GET_ITEMS_SUCCESS":return Object(gt.a)({},e,{loading:!1,error:null,response:t.payload.data});case"GET_ITEMS_FAILURE":return Object(gt.a)({},e,{loading:!1,error:t.payload.error,response:{}});case"CLEAR_ITEMS":return Object(gt.a)({},e,{loading:!1,response:{}});default:return e}},createItemReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ITEM_BEGIN":return Object(gt.a)({},e,{loading:!0,error:null});case"CREATE_ITEM_SUCCESS":return Object(gt.a)({},e,{loading:!1,error:null,response:t.payload.data});case"CREATE_ITEM_FAILURE":return Object(gt.a)({},e,{loading:!1,error:t.payload.error,response:{}});default:return e}},notificationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;if("SNACK_BAR"===t.type){var a=t.open,n=t.content,r=t.severity;return Object(gt.a)({},e,{open:a,content:n,severity:r})}return e},categoriesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES_BEGIN":return Object(gt.a)({},e,{loading:!0,error:null});case"GET_CATEGORIES_SUCCESS":return Object(gt.a)({},e,{loading:!1,response:t.payload.data});case"GET_CATEGORIES_FAILURE":return Object(gt.a)({},e,{loading:!1,error:t.payload.error,response:{}});default:return e}},favoritesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FAVORITES_BEGIN":return Object(gt.a)({},e,{loading:!0,error:null});case"GET_FAVORITES_SUCCESS":return Object(gt.a)({},e,{loading:!1,response:t.payload.data});case"GET_FAVORITES_FAILURE":return Object(gt.a)({},e,{loading:!1,error:t.payload.error,response:{}});case"ADD_FAVORITE_SUCCESS":return Object(gt.a)({},e,{error:null,response:t.payload.data});case"ADD_FAVORITE_FAILURE":return Object(gt.a)({},e,{error:t.payload.error,response:null});case"CLEAR_FAVORITES":return Object(gt.a)({},e,{error:null,response:null,favorites:null});default:return e}},locationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CITIES_BEGIN":return Object(gt.a)({},e,{loading:!0,response:null,error:null});case"GET_CITIES_SUCCESS":return Object(gt.a)({},e,{loading:!1,response:t.payload.data,error:null});case"GET_CITIES_FAILURE":return Object(gt.a)({},e,{loading:!1,response:null,error:t.payload.error});default:return e}}}),{},Object(pt.a)(dt.a));function yt(e){var t=e.item,a=e.onClick,n=ut(),o=mt(t.time);return r.a.createElement(tt.a,{className:n.root},r.a.createElement(at.a,{onClick:a},r.a.createElement(ot.a,{className:n.media,image:t.images[0]?"https://tech-corner.s3.eu-west-3.amazonaws.com/"+t.images[0]:ct.a}),r.a.createElement(rt.a,null,r.a.createElement(u.a,{gutterBottom:!0,variant:"h6",component:"h2",style:{height:32,overflow:"hidden"}},t.title),r.a.createElement(_e.a,{style:{marginBottom:12},container:!0,direction:"row",justify:"space-between",alignItems:"flex-start"},r.a.createElement(u.a,{variant:"subtitle2",component:"p"},t.seller.city.name,", Egypt"),r.a.createElement(u.a,{variant:"body2",color:"textSecondary",component:"p",className:n.date},o)),r.a.createElement(u.a,{className:n.price,variant:"subtitle2",gutterBottom:!0},t.price," EGP"))),r.a.createElement(nt.a,null,r.a.createElement(A.a,{className:n.button,size:"small",onClick:function(){return Ct.dispatch(we(t._id))}},r.a.createElement($.a,{className:n.buttonIcon})," Favorite"),r.a.createElement(A.a,{className:n.button,size:"small"},r.a.createElement(st.a,{className:n.buttonIcon})," Message")))}var jt=a(156),It=a(376),St=a(377),kt=a(193),Rt=Object(w.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:0,minWidth:400,borderRadius:5,"&:focus":{outline:"0 !important"}},title:{textAlign:"center"},children:{width:"fit-content",marginLeft:"auto",marginRight:"auto"}}}));function Nt(e){var t=Rt(),a=r.a.useState(e.open),o=Object(c.a)(a,2),i=o[0],l=o[1];return Object(n.useEffect)((function(){l(e.open)}),[e.open]),r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:i,onClose:function(){l(!1),e.handleClose(!1)},closeAfterTransition:!0,BackdropComponent:It.a,BackdropProps:{timeout:500}},r.a.createElement(St.a,{in:i},r.a.createElement("div",{className:t.paper},r.a.createElement("h2",{id:"transition-modal-title",className:t.title},e.title),r.a.createElement(kt.a,{width:1,className:t.children},e.children)))))}var Tt=a(300),wt=a.n(Tt),xt=Object(w.a)((function(e){return{root:Object(T.a)({maxWidth:500,maxHeight:window.screen.height-100,overflowY:"scroll",overflowX:"hidden",display:"block",marginTop:-15},e.breakpoints.down("xs"),{maxHeight:window.screen.height-200}),closeButton:Object(T.a)({background:e.palette.background.paper,zIndex:999,borderRadius:"0px 0px 0px 0px",width:"30px !important",visibility:"hidden",top:-5},e.breakpoints.down("xs"),{visibility:"visible"}),body:{marginBottom:32},image:Object(T.a)({width:"100%",maxHeight:322,marginTop:-42,borderRadius:"5px 5px 0px 0px",marginRight:"auto",marginLeft:"auto"},e.breakpoints.down("sm"),{maxWidth:"100%"}),price:{fontWeight:600,color:e.palette.primary.main,marginBottom:8,marginTop:8},content:{padding:e.spacing(2,4,4)},button:{marginLeft:"auto",marginRight:"auto",color:e.palette.primary.main,width:"33.3%"},buttonIcon:{height:22,marginRight:12}}})),Bt=a(155),Lt=a.n(Bt),Gt=a(302),_t=a(303),Ut=a.n(_t),Qt=function(e){var t=e.open,a=e.handleClose,n=e.item,o=xt();return n?r.a.createElement(Nt,{open:t,handleClose:a},r.a.createElement("div",{className:o.root},r.a.createElement(A.a,{className:o.closeButton,onClick:a},r.a.createElement(Lt.a,null)),r.a.createElement(wt.a,{autoPlay:!1,navButtonsAlwaysVisible:!0},null===n||void 0===n?void 0:n.images.map((function(e,t){return r.a.createElement("img",{key:t,className:o.image,src:"".concat("https://tech-corner.s3.eu-west-3.amazonaws.com","/").concat(e)})}))),r.a.createElement("div",{className:o.content},r.a.createElement(u.a,{variant:"h5",align:"center"},null===n||void 0===n?void 0:n.title),r.a.createElement(u.a,{variant:"subtitle1",align:"center",className:o.price},mt(null===n||void 0===n?void 0:n.time)),r.a.createElement(u.a,{variant:"subtitle1",className:o.price},null===n||void 0===n?void 0:n.price," EGP"),r.a.createElement(u.a,{variant:"subtitle2"},"By ",null===n||void 0===n?void 0:n.seller.name),r.a.createElement(u.a,{className:o.body,style:{marginTop:16},variant:"body2"},null===n||void 0===n?void 0:n.details),r.a.createElement("div",null,r.a.createElement(Gt.CopyToClipboard,{text:null===n||void 0===n?void 0:n.seller.phone},r.a.createElement(A.a,{className:o.button,size:"small",onClick:function(){return Ct.dispatch(Ae(!0,"Phone number copied to clipboard","success"))}},r.a.createElement(Ut.a,{className:o.buttonIcon})," Call")),r.a.createElement(A.a,{className:o.button,size:"small"},r.a.createElement(st.a,{className:o.buttonIcon})," Message"),r.a.createElement(A.a,{className:o.button,size:"small",onClick:function(){return Ct.dispatch(we(n._id))}},r.a.createElement($.a,{className:o.buttonIcon})," Favorite"))))):r.a.createElement(r.a.Fragment,null)};var Ft=Object(_.f)((function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(),s=Object(c.a)(l,2),m=s[0],p=s[1],d=xe();return e.items?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:d.gridContainer},r.a.createElement(_e.a,{className:d.grid,container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:3},r.a.createElement(u.a,{variant:"h5",gutterBottom:!0,className:d.title},"Most Recent"),r.a.createElement("i",{className:d.i,"aria-hidden":"true"}),r.a.createElement("i",{className:d.i,"aria-hidden":"true"}),r.a.createElement("i",{className:d.i,"aria-hidden":"true"})),r.a.createElement(_e.a,{className:d.grid,container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:3},e.items.map((function(e,t){return r.a.createElement(_e.a,{item:!0,key:t},r.a.createElement(yt,{item:e,onClick:function(){i(!0),p(e)}}))})),r.a.createElement("i",{className:d.i,"aria-hidden":"true"}),r.a.createElement("i",{className:d.i,"aria-hidden":"true"}),r.a.createElement("i",{className:d.i,"aria-hidden":"true"}))),o&&r.a.createElement(Qt,{item:m,open:o,handleClose:function(){return i(!1)}})):r.a.createElement(r.a.Fragment,null)})),Dt=function(){return r.a.createElement(Le.a,null,r.a.createElement("title",null,"Tech Corner - Home"),r.a.createElement("meta",{name:"description",content:"Tech Corner Home Page"}),r.a.createElement("meta",{property:"og:title",content:"Tech Corner - Home"}))};var Pt=Object(se.b)((function(e){var t=e.fetchItemsReducer,a=t.response,n=t.loading,r=t.error,o=e.categoriesReducer;return{response:a,loading:n,error:r,categoriesResponse:o.response,categoriesLoading:o.loading,categoriesError:o.error}}),(function(e){return{fetchItems:function(t,a){e(Ne(t,a))},clearItems:function(){e((function(e){e({type:"CLEAR_ITEMS"})}))},getCategories:function(){e(Te())}}}))(Object(_.f)((function(e){var t=xe(),a=Object(n.useState)(void 0),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(!1),u=Object(c.a)(s,2),m=u[0],p=u[1],d=function(){var e="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,t=document.body,a=document.documentElement,n=Math.max(t.scrollHeight,t.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight),r=e+window.pageYOffset;p(r+1e3>=n)};Object(n.useEffect)((function(){return e.fetchItems(1),e.getCategories(),window.addEventListener("scroll",d),function(){e.clearItems(),window.removeEventListener("scroll",d),l(void 0)}}),[]),Object(n.useEffect)((function(){e.response.has_more&&m&&g()}),[m]);var g=function(){e.fetchItems(e.response.page+1)};return Object(n.useEffect)((function(){void 0!==i?i.includes(e.response.items)||l([].concat(Object(Se.a)(i),Object(Se.a)(e.response.items))):void 0===i&&l(e.response.items)}),[e.response]),!e.response.items||e.categoriesLoading?r.a.createElement(ke.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt,null),r.a.createElement("div",{className:t.container},r.a.createElement(Re.a,{className:t.container,maxWidth:"lg"},r.a.createElement(Qe,null),r.a.createElement(et,{categories:e.categoriesResponse}),r.a.createElement(Ft,{items:i}))))}))),Mt=a(411),Ht=a(416),Wt=a(409),zt=a(413),Kt=Object(w.a)((function(e){return{root:{paddingTop:1},inputField:{background:e.palette.background.default},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},logo:{height:60,marginBottom:36},form:{width:"100%",marginTop:e.spacing(4)},errorMessage:{marginTop:8},link:{color:e.palette.primary.main,cursor:"pointer"},submit:{margin:e.spacing(3,0,2),height:52,fontSize:16}}}));var Jt=function(){return r.a.createElement(u.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(zt.a,{color:"inherit"},"Tech Corner")," ",(new Date).getFullYear(),".")},Vt=a(304),Yt=a.n(Vt),qt=Object(w.a)((function(e){return{inputField:{background:e.palette.background.default},form:{width:"100%",marginTop:e.spacing(4)},errorMessage:{marginTop:8},inputNotchedOutline:{borderColor:"".concat(e.palette.primary.main," !important")},inputNotchedOutlineError:{borderColor:"#CB0B0B !important"},inputFocusedLabel:{color:"".concat(e.palette.primary.main," !important")}}})),Zt=function(e){var t=qt(),a=Object(n.useState)("none"),o=Object(c.a)(a,2),i=o[0],l=o[1],s={classes:{focused:t.inputFocusedLabel}},u={classes:{root:t.inputField,notchedOutline:e.error?t.inputNotchedOutlineError:t.inputNotchedOutline}};return"phone"===e.type?r.a.createElement(Yt.a,{defaultCountry:"eg",regions:["middle-east","north-africa"],variant:"outlined",label:"Phone Number",name:"phone",required:!0,fullWidth:!0,onChange:function(t){e.onChange(t)},InputLabelProps:s,InputProps:u,error:!!e.error,helperText:e.error}):"select"===e.type?r.a.createElement(Ge.a,{select:!0,fullWidth:!0,onChange:function(t){e.value&&e.value(t.target.value),e.onChange&&e.onChange()},inputRef:e.inputRef,label:e.name,required:!0,InputLabelProps:s,InputProps:u,variant:"outlined",value:i,error:!!e.error,helperText:e.error},r.a.createElement(f.a,{value:"none",disabled:!0},e.title),e.selectOptions.length>0&&e.selectOptions.map((function(e,t){return r.a.createElement(f.a,{key:t,value:e._id?e._id:e.id,onClick:function(){l(e.id?e.id:e._id)}},e.name)}))):r.a.createElement(Ge.a,{inputProps:{maxLength:e.maxLength},error:!!e.error,autoComplete:e.name,name:e.name,variant:"outlined",type:e.type?e.type:"",required:!0,fullWidth:!0,helperText:e.error,label:e.name,autoFocus:!0,inputRef:e.inputRef,onChange:e.onChange,InputLabelProps:s,InputProps:u,rows:e.rows,multiline:e.multiline,value:e.value})};var Xt=Object(_.f)((function(e){var t=Kt(),a=Object(n.useRef)(null),o=Object(n.useRef)(null),i=function(){var t,n,r={email:null===(t=a.current)||void 0===t?void 0:t.value,password:null===(n=o.current)||void 0===n?void 0:n.value};e.sendDataToParent(r)};return e.checkAuthLoading?r.a.createElement(ke.a,null):r.a.createElement(Re.a,{component:"main",maxWidth:"xs",className:t.root},r.a.createElement(ae.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(te,{className:t.logo}),r.a.createElement(u.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:function(t){return function(t){t.preventDefault(),e.onSubmit()}(t)}},r.a.createElement(_e.a,{item:!0,xs:12},r.a.createElement(Zt,{name:"Email",inputRef:a,onChange:i})),r.a.createElement("br",null),r.a.createElement(_e.a,{item:!0,xs:12},r.a.createElement(Zt,{name:"Password",type:"password",inputRef:o,onChange:i})),r.a.createElement("br",null),r.a.createElement(Mt.a,{control:r.a.createElement(Ht.a,{value:"remember"}),label:"Remember me"}),e.errorMessage&&r.a.createElement(u.a,{className:t.errorMessage,color:"error"},e.errorMessage),r.a.createElement(A.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!e.button},e.authLoading?r.a.createElement(Wt.a,{size:26}):"Sign In"),r.a.createElement(_e.a,{container:!0},r.a.createElement(_e.a,{item:!0,xs:!0},r.a.createElement(zt.a,{href:"#",variant:"body2",className:t.link},"Forgot password?")),r.a.createElement(_e.a,{item:!0},r.a.createElement(zt.a,{onClick:function(){return e.history.push("/signup")},variant:"body2",className:t.link},"Don't have an account? Sign Up"))))),r.a.createElement(kt.a,{mt:8},r.a.createElement(Jt,null)))})),$t=function(){return r.a.createElement(Le.a,null,r.a.createElement("title",null,"Tech Corner - Sign In"),r.a.createElement("meta",{name:"description",content:"Log into Tech Corner"}),r.a.createElement("meta",{property:"og:title",content:"Tech Corner - Sign In"}))};var ea=Object(se.b)((function(e){var t=e.authReducer;return{authResponse:t.authResponse,checkAuthResponse:t.checkAuthResponse,checkAuthLoading:t.checkAuthLoading,authLoading:t.authLoading,error:t.authError}}),(function(e){return{signIn:function(t,a){e(function(e,t){return function(a){a(de("SIGN_IN")),Ee("POST","/v1/users/signin",!1,!1,{email:e,password:t}).then((function(e){a(ge("SIGN_IN",e))})).catch((function(e){a(he("SIGN_IN",e))}))}}(t,a))},displaySnackBar:function(t,a,n){e(Ae(t,a,n))}}}))(Object(_.f)((function(e){var t=Object(n.useState)({}),a=Object(c.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(null),s=Object(c.a)(l,2),u=s[0],m=s[1],p=Object(n.useState)(!1),d=Object(c.a)(p,2),g=d[0],h=d[1];return Object(n.useEffect)((function(){e.checkAuthResponse&&e.history.push("/")}),[e.checkAuthResponse]),Object(n.useEffect)((function(){if(e.error)return"string"===typeof e.error.reason?m(e.error.reason):m("");e.authResponse&&e.authResponse.email&&(m(null),e.displaySnackBar(!0,"Welcome back, ".concat(e.authResponse.firstName,"!"),"success"),e.history.push("/"))}),[e.authResponse,e.error]),Object(n.useEffect)((function(){o.email&&o.password?h(!0):h(!1)}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement($t,null),r.a.createElement(Xt,{sendDataToParent:function(e){i(e)},onSubmit:function(){if(!o.email||!o.password)return m("Email and password are required");e.signIn(o.email,o.password)},errorMessage:u,button:g,authLoading:e.authLoading,checkAuthLoading:e.checkAuthLoading}))})));var ta=Object(_.f)((function(e){var t=Kt(),a=Object(n.useRef)(null),o=Object(n.useRef)(null),i=Object(n.useRef)(null),l=Object(n.useRef)(null),s=Object(n.useRef)(null),m=Object(n.useState)(),p=Object(c.a)(m,2),d=p[0],g=p[1],h=Object(n.useState)(),f=Object(c.a)(h,2),E=f[0],b=f[1],v=e.errors,O=function(){var t,n,r,c,s={firstName:null===(t=i.current)||void 0===t?void 0:t.value,lastName:null===(n=l.current)||void 0===n?void 0:n.value,email:null===(r=a.current)||void 0===r?void 0:r.value,phone:d,city:E,password:null===(c=o.current)||void 0===c?void 0:c.value};console.log(s),e.sendDataToParent(s)};return Object(n.useEffect)((function(){O()}),[E]),e.checkAuthLoading||e.citiesLoading?r.a.createElement(ke.a,null):r.a.createElement(Re.a,{component:"main",maxWidth:"xs",className:t.root},r.a.createElement(ae.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(te,{className:t.logo}),r.a.createElement(u.a,{component:"h1",variant:"h5"},"Create an account"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(_e.a,{container:!0,spacing:2},r.a.createElement(_e.a,{item:!0,xs:12,sm:6},r.a.createElement(Zt,{name:"First Name",error:v.firstName,inputRef:i,onChange:O,maxLength:10})),r.a.createElement(_e.a,{item:!0,xs:12,sm:6},r.a.createElement(Zt,{name:"Last Name",error:v.lastName,inputRef:l,onChange:O,maxLength:10})),r.a.createElement(_e.a,{item:!0,xs:12},r.a.createElement(Zt,{name:"Email",error:v.email,inputRef:a,onChange:O})),e.cities&&r.a.createElement(_e.a,{item:!0,xs:12},r.a.createElement(Zt,{name:"City",selectOptions:e.cities.cities,error:v.city,inputRef:s,onChange:O,value:function(e){return b(e)},type:"select",title:"Choose a city"})),r.a.createElement(_e.a,{item:!0,xs:12},r.a.createElement(Zt,{type:"phone",name:"Phone Number",error:v.phone,onChange:function(e){g(e),O()}})),r.a.createElement(_e.a,{item:!0,xs:12},r.a.createElement(Zt,{name:"Password",error:v.password,inputRef:o,onChange:O,type:"password"})),r.a.createElement(_e.a,{item:!0,xs:12},r.a.createElement(Mt.a,{control:r.a.createElement(Ht.a,{value:"allowExtraEmails",color:"primary"}),label:"I agree to Tech Corner's Terms of Service and Privacy Policy"}))),r.a.createElement(A.a,{fullWidth:!0,disabled:!e.submitButton,variant:"contained",color:"primary",onClick:function(t){O(),function(t){t.preventDefault(),e.onSubmit()}(t)},className:t.submit},e.authLoading?r.a.createElement(Wt.a,{size:26}):"Sign Up"),r.a.createElement(_e.a,{container:!0,justify:"flex-end"},r.a.createElement(_e.a,{item:!0},r.a.createElement(zt.a,{onClick:function(){return e.history.push("/signin")},variant:"body2",className:t.link},"Already have an account? Sign in"))))),r.a.createElement(kt.a,{mt:5},r.a.createElement(Jt,null)))}));var aa=function(){return r.a.createElement(Le.a,null,r.a.createElement("title",null,"Tech Corner - Sign Up"),r.a.createElement("meta",{name:"description",content:"Create a new Tech Corner account"}),r.a.createElement("meta",{property:"og:title",content:"Tech Corner - Sign Up"}))};var na=Object(se.b)((function(e){var t=e.authReducer,a=t.authResponse,n=t.checkAuthResponse,r=t.authLoading,o=t.checkAuthLoading,i=t.authError,c=e.locationReducer;return{authResponse:a,checkAuthResponse:n,citiesResponse:c.response,checkAuthLoading:o,citiesLoading:c.loading,authLoading:r,responseError:i}}),(function(e){return{signUp:function(t){e(function(e){return function(t){t(de("SIGN_UP")),Ee("POST","/v1/users/register",!1,!1,e).then((function(e){t(ge("SIGN_UP",e))})).catch((function(e){return t(he("SIGN_UP",e))}))}}(t))},displaySnackBar:function(t,a,n){e(Ae(t,a,n))},fetchCities:function(){e((function(e){e(de("GET_CITIES")),Ee("GET","/v1/location/cities").then((function(t){console.log(t),e(ge("GET_CITIES",t))})).catch((function(t){return e(he("GET_CITIES",t.message))}))}))}}}))(Object(_.f)((function(e){var t=Object(n.useState)(),a=Object(c.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)({}),s=Object(c.a)(l,2),u=s[0],m=s[1],p=Object(n.useState)(!1),d=Object(c.a)(p,2),g=d[0],h=d[1];return Object(n.useEffect)((function(){e.fetchCities()}),[]),Object(n.useEffect)((function(){e.checkAuthResponse&&e.history.push("/")}),[e.checkAuthResponse]),Object(n.useEffect)((function(){h(!0)}),[u,o]),Object(n.useEffect)((function(){(e.responseError||e.authResponse)&&(e.responseError?m(e.responseError.reason):(m(null),e.displaySnackBar(!0,"Welcome, ".concat(e.authResponse.firstName,"!"),"success"),e.history.push("/")))}),[e.authResponse,e.responseError]),e.citiesLoading?r.a.createElement(ke.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(aa,null),r.a.createElement(ta,{sendDataToParent:function(e){if(console.log(e),e){i(e);var t={},a=e.firstName,n=e.lastName,r=e.email,o=e.password,c=e.city,l=e.phone;t=a&&a.length<4?Object(gt.a)({},t,{firstName:"First name must contain at least 4 characters"}):Object(gt.a)({},t,{firstName:null}),t=n&&n.length<4?Object(gt.a)({},t,{lastName:"Last name must contain at least 4 characters"}):Object(gt.a)({},t,{lastName:null}),t=c&&"none"===c||c&&c.length<3?Object(gt.a)({},t,{city:"Please select a city"}):Object(gt.a)({},t,{city:null}),t=o&&!function(e){return!!/^(?=.*[a-zA-Z])(?=.*[0-9])/.test(e)&&!(e.length<8)}(o)?Object(gt.a)({},t,{password:"Password must be a mixture of characters & numbers and contain minimum 8 characters"}):Object(gt.a)({},t,{password:null}),t=r&&!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(r)?Object(gt.a)({},t,{email:"Invalid email format"}):Object(gt.a)({},t,{email:null}),t=l&&(l.length>15||l.length<8)?Object(gt.a)({},t,{phone:"Phone number is too short or too long"}):Object(gt.a)({},t,{phone:null}),m(t)}},errors:u,onSubmit:function(){if(o){console.log(o);var t=o.firstName,a=o.lastName,n=o.email,r=o.password,i=o.city,c=o.phone;e.signUp({firstName:t,lastName:a,email:n,password:r,city:i,phone:c})}},submitButton:g,authResponse:e.authResponse,authLoading:e.authLoading,citiesLoading:e.citiesLoading,checkAuthLoading:e.checkAuthLoading,cities:e.citiesResponse}))}))),ra=Object(w.a)((function(e){var t;return{title:(t={color:e.palette.primary.main,marginTop:32,marginBottom:32},Object(T.a)(t,e.breakpoints.down("sm"),{fontSize:27,marginTop:26,marginBottom:26}),Object(T.a)(t,e.breakpoints.up("sm"),{textAlign:"left"}),t),paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",paddingBottom:16},inputField:{background:e.palette.background.default},form:{width:"100%",marginTop:e.spacing(4)},errorMessage:{marginTop:8},submit:{margin:e.spacing(3,0,2),height:52,fontSize:16}}}));var oa=function(e){var t=ra(),a=Object(n.useState)(!1),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useRef)(null),u=Object(n.useRef)(null),m=Object(n.useRef)(null),p=Object(n.useRef)(null),d=function(){var t,a,n,r,o=null===(t=s.current)||void 0===t?void 0:t.value,i=null===(a=u.current)||void 0===a?void 0:a.value,c=null===(n=p.current)||void 0===n?void 0:n.value,d=null===(r=m.current)||void 0===r?void 0:r.value,g={title:o,details:i,price:d,category:c};l(!!(o&&i&&c&&d)),console.log(c),e.sendDataToParent(g)};return r.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:function(t){return function(t){t.preventDefault(),e.onSubmit()}(t)}},r.a.createElement(_e.a,{item:!0,xs:12},r.a.createElement(Zt,{name:"Title",inputRef:s,onChange:d,error:e.errors.title})),r.a.createElement("br",null),r.a.createElement(_e.a,{item:!0,xs:12},r.a.createElement(Zt,{name:"Product Information",inputRef:u,onChange:function(){return d()},multiline:!0,rows:12,error:e.errors.details})),r.a.createElement("br",null),r.a.createElement(_e.a,{item:!0,xs:12},r.a.createElement(Zt,{name:"Price",inputRef:m,onChange:d,type:"number"})),r.a.createElement("br",null),r.a.createElement(_e.a,{item:!0,xs:12},r.a.createElement(Zt,{name:"category",inputRef:p,onChange:d,type:"select",error:e.errors.category,selectOptions:e.categories,title:"Choose a category"})),r.a.createElement(A.a,{disabled:i?e.loading:!i,type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return d()},className:t.submit},e.loading?r.a.createElement(Wt.a,{size:26}):"Submit"))},ia=a(305),ca=a.n(ia),la=Object(w.a)((function(e){return{image:{height:200},iconButtonLabel:{display:"flex",flexDirection:"column"}}}));var sa=function(e){var t=e.sendDataToParent,a=e.errors,o=Object(n.useState)([]),i=Object(c.a)(o,2),l=i[0],s=i[1],p=Object(n.useState)(null),d=Object(c.a)(p,2),g=d[0],h=d[1],f=la();return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{accept:"image/*",id:"icon-button-file",type:"file",style:{display:"none"},onChange:function(e){var a=e.target.files,n=!0;if(Array.from(a).forEach((function(e){if(console.log(e.size),e.size>2e6)return n=!0;n=!1})),n)return h("Maximum size allowed is 2 MB per file");if(a[4])return h("Cannot upload more than 4 images");h(null);var r=[];Array.from(a).forEach((function(e){r.push(URL.createObjectURL(e))})),s(r),t(a)},name:"files",multiple:!0}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(m.a,{color:"primary","aria-label":"upload picture",component:"span",classes:{label:f.iconButtonLabel}},r.a.createElement(ca.a,null),r.a.createElement(u.a,{variant:"subtitle1",align:"center"},"Upload Images"))),g&&r.a.createElement(u.a,{variant:"subtitle1",align:"center",color:"error"},g),a.images&&r.a.createElement(u.a,{variant:"subtitle1",align:"center",color:"error"},a.images),r.a.createElement("br",null),r.a.createElement(_e.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:2},l.map((function(e,t){return r.a.createElement(_e.a,{item:!0,key:t},r.a.createElement("img",{className:f.image,src:e,alt:"uploaded"}))}))))},ua=function(){return r.a.createElement(Le.a,null,r.a.createElement("title",null,"Tech Corner - Sell Item"),r.a.createElement("meta",{name:"description",content:"Sell a new item on Tech Corner"}),r.a.createElement("meta",{property:"og:title",content:"Tech Corner - Sell Item"}))};var ma=Object(se.b)((function(e){var t=e.authReducer,a=t.checkAuthError,n=t.checkAuthLoading,r=e.createItemReducer,o=r.response,i=r.error,c=r.loading;return{authError:a,checkAuthLoading:n,response:o,categories:e.categoriesReducer.response,error:i,loading:c}}),(function(e){return{displaySnackBar:function(t,a,n){e(Ae(t,a,n))},createItem:function(t,a){e(function(e,t){return function(a){a(de("CREATE_ITEM")),Ee("POST","/v1/items",!1,!1,e).then((function(e){a(ge("CREATE_ITEM",e)),t(e,void 0)})).catch((function(e){a(he("CREATE_ITEM",e)),t(void 0,e)}))}}(t,a))},uploadImages:function(t,a,n){e(function(e,t,a){return function(n){n(de("UPLOAD_IMAGES")),Ee("POST","/v1/items/".concat(e,"/upload-images"),!1,{"Content-Type":"multipart/form-data"},t).then((function(e){a()})).catch((function(e){a()}))}}(t,a,n))},fetchItems:function(){e(Ne())},getCategories:function(){e(Te())}}}))(Object(_.f)((function(e){var t=Object(n.useState)(),a=Object(c.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(),s=Object(c.a)(l,2),m=s[0],p=s[1],d=Object(n.useState)({}),g=Object(c.a)(d,2),h=g[0],f=g[1],E=Object(n.useState)(!1),A=Object(c.a)(E,2),b=A[0],v=A[1],O=ra(),C=e.authError,y=e.history,j=e.displaySnackBar,I=(e.response,e.error,e.checkAuthLoading),S=e.createItem,k=e.uploadImages,R=(e.fetchItems,e.categories),N=e.getCategories;return Object(n.useEffect)((function(){N(),C&&!I&&(j(!0,"You have to sign in before selling an item","warning"),y.push("/signin"))}),[C]),I?r.a.createElement(ke.a,null):r.a.createElement(Re.a,{component:"main"},r.a.createElement(ua,null),b&&r.a.createElement(ke.a,null),r.a.createElement("div",{className:O.paper},r.a.createElement(u.a,{component:"h1",variant:"h4",className:O.title},"Add a new item"),r.a.createElement(sa,{sendDataToParent:function(e){p(e),f(Object(gt.a)({},h,{images:null}))},errors:h}),r.a.createElement(Re.a,{component:"main",maxWidth:"xs"},r.a.createElement(oa,{onSubmit:function(){var e=o.title,t=o.details,a=o.price,n=o.category,r={},i=!1;if("none"===n?(r=Object(gt.a)({},r,{category:"Please select a category"}),i=!0):(r=Object(gt.a)({},r,{category:null}),i=!1),m?(r=Object(gt.a)({},r,{images:null}),i=!1):(r=Object(gt.a)({},r,{images:"Please select at least 1 image"}),i=!0),i)return f(r);f({});var c={title:e,details:t,price:a,category:n};v(!0),S(c,(function(e,t){if(e&&j(!0,"Post is currently processing...","info"),v(!1),t)return f(t.reason);var a=new FormData;Array.from(m).forEach((function(e){a.append("itemImages",e,e.name)})),k(e._id,a,(function(){j(!0,"Your post is now active","success")})),y.push("/")}))},sendDataToParent:function(e){i(e)},errors:h,loading:b,categories:R}))))}))),pa=function(e){Object(Ie.a)(a,e);var t=Object(je.a)(a);function a(){return Object(Ce.a)(this,a),t.apply(this,arguments)}return Object(ye.a)(a,[{key:"render",value:function(){return r.a.createElement(_.c,null,r.a.createElement(_.a,{exact:!0,path:"/home",component:Pt}),r.a.createElement(_.a,{path:"/signin",component:ea}),r.a.createElement(_.a,{path:"/signup",component:na}),r.a.createElement(_.a,{path:"/sell",component:ma}),r.a.createElement(_.a,{component:Pt}))}}]),a}(n.Component),da=a(414),ga=a(415),ha=function(e){return r.a.createElement(ga.a,Object.assign({elevation:6,variant:"filled"},e))};var fa=Object(se.b)((function(e){var t=e.notificationReducer;return{open:t.open,content:t.content,severity:t.severity}}),(function(e){return{displaySnackBar:function(t,a,n){e(Ae(t,a,n))}}}))((function(e){var t=e.open,a=e.content,n=e.severity,o=e.displaySnackBar,i=function(){o(!1,null)};return r.a.createElement("div",null,r.a.createElement(da.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:t,autoHideDuration:6e3,onClose:i},r.a.createElement(ha,{severity:n,action:r.a.createElement(m.a,{size:"small","aria-label":"close",color:"inherit",onClick:i},r.a.createElement(Lt.a,{fontSize:"small"}))},a)))})),Ea=Object(w.a)((function(e){return{router:Object(T.a)({marginTop:64},e.breakpoints.up("md"),{marginLeft:250})}}));var Aa=function(){var e=Ea(),t=Object(j.a)("(prefers-color-scheme: dark)"),a=r.a.useMemo((function(){return Object(ve.a)({palette:{type:t?"dark":"light",primary:{main:t?"#BEC9E7":"#264AA5"},background:{paper:t?"#303030":"#EBEBEF ",default:t?"#383838":"#fff"}},typography:{fontFamily:'"Montserrat", sans-serif',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}})}),[t]);return Object(n.useEffect)((function(){document.body.style.backgroundColor=t?"#303030":"#EBEBEF"}),[t]),r.a.createElement(Oe.a,{theme:a},r.a.createElement("div",{className:"App"},r.a.createElement(fa,null),r.a.createElement(be,null),r.a.createElement("div",{className:e.router},r.a.createElement(pa,null))))};i.a.render(r.a.createElement(N.a,null,r.a.createElement(se.a,{store:Ct},r.a.createElement(Aa,null))),document.getElementById("root"))}},[[314,1,2]]]);
//# sourceMappingURL=main.04f7ca48.chunk.js.map