{"version":3,"sources":["images/logo-light-blue.png","images/logo-dark-blue.png","images/placeholder-image.png","navigation/styles.tsx","navigation/navbar.tsx","components/Logo.tsx","navigation/drawer-item.tsx","navigation/drawer.tsx","redux/helpers.tsx","redux/actions/notifications.tsx","navigation/nav-controller.tsx","redux/actions/auth.tsx","redux/actions/items.tsx","pages/home/styles/home.tsx","components/styles/search-bar-styles.tsx","components/SearchBar.tsx","pages/home/styles/categories.tsx","pages/home/categories.tsx","components/Item/styles/item-styles.tsx","helpers.tsx","redux/reducers/auth.tsx","redux/reducers/Items/fetch-items.tsx","redux/reducers/Items/create-item.tsx","redux/reducers/notifications.tsx","redux/reducers/Items/categories.tsx","redux/reducers/Items/favorites.tsx","redux/reducers/location.tsx","setup/redux-store.tsx","components/Item/ItemCard.tsx","components/Modal.tsx","components/Item/styles/modal-styles.tsx","components/Item/ItemModal.tsx","pages/home/recent-items.tsx","pages/home/index.tsx","pages/auth/styles/styles.tsx","setup/Copyright.tsx","components/styles/input-styles.tsx","components/InputComponent.tsx","pages/auth/SignInForm.tsx","pages/auth/sign-in.tsx","pages/auth/SignUpForm.tsx","pages/auth/sign-up.tsx","redux/actions/location.tsx","pages/sell-item/styles/styles.tsx","pages/sell-item/inputs.tsx","pages/sell-item/image-upload.tsx","pages/sell-item/index.tsx","setup/router.js","components/SnackBar.tsx","setup/styles.tsx","setup/App.tsx","index.tsx"],"names":["module","exports","navBarStyles","makeStyles","theme","root","flexGrow","bar","boxShadow","menuButton","marginRight","color","palette","primary","main","breakpoints","up","display","title","logo","height","marginLeft","marginTop","paddingLeft","menuItem","paddingRight","window","innerWidth","link","textDecoration","drawerStyles","textAlign","paddingBottom","list","width","fullList","divider","marginBottom","drawer","flexShrink","appBar","toolbar","mixins","drawerPaper","permanentDrawer","content","padding","spacing","NavBar","toggleDrawer","auth","loading","prefersDarkMode","useMediaQuery","classes","React","useState","anchorEl","setAnchorEl","open","Boolean","handleClose","className","AppBar","position","Toolbar","IconButton","onClick","edge","aria-label","Typography","variant","to","src","logoLight","logoDark","alt","Button","MenuItem","Badge","badgeContent","aria-controls","aria-haspopup","event","currentTarget","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","Logo","props","DrawerItem","Icon","icon","ListItem","button","key","name","selected","ListItemIcon","badgeCount","ListItemText","withRouter","useTheme","username","signOut","history","mainItems","HomeIcon","push","path","StarsIcon","AddIcon","InfoIcon","userItems","AccountIcon","MessageIcon","LogoutIcon","SigninIcon","RegisterIcon","mobile","clsx","role","onKeyDown","List","map","item","index","location","pathname","Divider","container","undefined","document","body","CssBaseline","Hidden","mdDown","implementation","Drawer","anchor","direction","paper","ModalProps","smDown","fetchDataBegin","dataType","type","fetchDataSuccess","data","payload","fetchDataFailure","error","apiUrl","process","httpRequest","reqMethod","url","query","headers","Promise","resolve","reject","finalUrl","URL","queryParams","search","URLSearchParams","toString","options","method","credentials","FormData","JSON","stringify","fetch","then","response","a","json","parsedJSON","status","catch","err","Error","parsedResponse","console","log","displaySnackBar","severity","dispatch","connect","state","authReducer","checkAuthResponse","signOutResponse","checkAuthLoading","checkAuthError","cb","sessionStorage","clear","checkAuth","setDrawer","setAuth","useEffect","firstName","lastName","fetchItems","page","page_limit","message","getCategories","addToFavorites","reason","useStyles","background","gridContainer","maxWidth","grid","gridGap","i","paddinRight","down","fontSize","searchBarStyles","paddingTop","inputBar","default","inputNotchedOutline","borderColor","inputLabel","fontWeight","inputFocusedLabel","SearchBar","Grid","justify","alignItems","TextField","label","placeholder","fullWidth","margin","InputLabelProps","shrink","focused","InputProps","notchedOutline","cursor","borderRadius","transition","iconTitle","Categories","categories","Styles","length","category","AppsIcon","Computer","Tv","SportsEsports","Speaker","Keyboard","Watch","align","itemStyles","backgroundColor","media","price","buttonIcon","date","formatTime","ms","currentDate","Date","now","minutes","parseInt","toFixed","hours","days","initialState","authResponse","authError","authLoading","loadings","favorites","createStore","combineReducers","action","signOutError","fetchItemsReducer","createItemReducer","notificationReducer","categoriesReducer","favoritesReducer","locationReducer","applyMiddleware","thunk","ItemCard","time","Card","CardActionArea","CardMedia","image","images","CardContent","gutterBottom","component","style","overflow","seller","city","CardActions","size","store","_id","modal","justifyContent","border","minWidth","outline","children","ModalComponent","setOpen","Modal","aria-labelledby","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","Box","maxHeight","screen","overflowY","overflowX","closeButton","zIndex","visibility","top","ItemModal","autoPlay","navButtonsAlwaysVisible","details","text","phone","setModal","selectedItem","setSelectedItem","HomeStyles","items","aria-hidden","PageMetaTags","property","categoriesResponse","categoriesLoading","categoriesError","clearItems","paginatedItems","setPaginatedItems","bottomReached","setBottomReached","handleScroll","windowHeight","innerHeight","documentElement","offsetHeight","html","docHeight","Math","max","scrollHeight","clientHeight","windowBottom","pageYOffset","addEventListener","removeEventListener","has_more","fetchMore","includes","LinearProgress","Container","inputField","flexDirection","form","errorMessage","submit","Copyright","Link","getFullYear","inputNotchedOutlineError","Input","setSelected","defaultCountry","regions","required","onChange","value","helperText","select","e","target","inputRef","disabled","selectOptions","option","inputProps","maxLength","autoComplete","autoFocus","rows","multiline","signInStyles","emailInput","useRef","passwordInput","onInputChange","inputData","email","current","password","sendDataToParent","noValidate","onSubmit","preventDefault","xs","FormControlLabel","control","Checkbox","CircularProgress","href","mt","signIn","inputs","setInputs","setError","enableButton","SignUpStyles","firstNameInput","lastNameInput","cityInput","phoneInput","setPhoneInput","setCity","errors","citiesLoading","sm","cities","submitButton","citiesResponse","responseError","signUp","fetchCities","setErrors","enableSubmitButton","inputErrors","test","validatePassword","validateEmail","Inputs","setButton","titleInput","detailsInput","priceInput","categoryInput","iconButtonLabel","Upload","setImages","accept","files","Array","from","forEach","file","urls","createObjectURL","multiple","htmlFor","createItem","uploadImages","itemId","setLoading","imageData","errorsObject","formData","append","Router","exact","HomePage","SignIn","SignUp","SellItem","Component","Alert","elevation","Snackbar","autoHideDuration","styles","router","App","useMemo","createMuiTheme","typography","fontFamily","fontWeightLight","fontWeightRegular","fontWeightMedium","ThemeProvider","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.04f7ca48.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-light-blue.b42be366.png\";","module.exports = __webpack_public_path__ + \"static/media/logo-dark-blue.418c0aac.png\";","module.exports = \"data:image/png;base64,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\"","import { makeStyles } from '@material-ui/core/styles';\r\n\r\n/**\r\n * Styling Elements for the Navigation Bar\r\n * Imported in navbar.js\r\n */\r\n\r\nconst navBarStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n\r\n  },\r\n\r\n  bar: {\r\n    boxShadow: \"0px 2px 2px -1px rgba(0,0,0,0.1), 0px 2px 5px 0px rgba(0,0,0,0.05), 0px 1px 5px 0px rgba(0,0,0,0.05)\",\r\n\r\n  },\r\n\r\n  menuButton: {\r\n    marginRight: 16,\r\n    color: theme.palette.primary.main,\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n\r\n  title: {\r\n    flexGrow: 1,\r\n    color: 'default'\r\n  },\r\n\r\n  logo: {\r\n    height: 35,\r\n    marginLeft: 0,\r\n    marginTop: 5,\r\n    [theme.breakpoints.up('md')]: {\r\n      paddingLeft: 46,\r\n    },\r\n  },\r\n\r\n  menuItem: {\r\n    paddingRight: window.innerWidth < 600 ? \"6px\" : \"16px\",\r\n    paddingLeft: window.innerWidth < 600 ? \"6px\" : \"16px\",\r\n  },\r\n\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.primary.main\r\n  }\r\n}));\r\n\r\n/**\r\n * Styling Elements for the Navigation Drawer\r\n * Imported in drawer.js\r\n */\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst drawerStyles = makeStyles(theme => ({\r\n  title: {\r\n    textAlign: \"center\",\r\n    paddingBottom: 16\r\n  },\r\n\r\n  list: {\r\n    width: 250,\r\n    marginTop: 8\r\n  },\r\n\r\n  fullList: {\r\n    width: 'auto',\r\n  },\r\n\r\n  divider: {\r\n    marginBottom: 12\r\n  },\r\n\r\n  logo: {\r\n    height: 35,\r\n    marginLeft: 0,\r\n    marginTop: 5\r\n  },\r\n\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up('md')]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n  },\r\n  appBar: {\r\n    [theme.breakpoints.up('md')]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth,\r\n    },\r\n  },\r\n\r\n  // necessary for content to be below app bar\r\n  toolbar: theme.mixins.toolbar,\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n\r\n  permanentDrawer: {\r\n    marginTop: 64\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n  },\r\n\r\n}));\r\n\r\nexport { navBarStyles, drawerStyles }","import React from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AccountCircle from '@material-ui/icons/AccountCircleOutlined';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport Button from '@material-ui/core/Button';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MessageIcon from '@material-ui/icons/MessageOutlined';\r\nimport NotificationsIcon from '@material-ui/icons/NotificationsOutlined';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\nimport logoLight from '../images/logo-light-blue.png';\r\nimport logoDark from '../images/logo-dark-blue.png';\r\n\r\nimport { Link } from 'react-router-dom'\r\nimport { navBarStyles } from './styles';\r\n\r\n/**\r\n * Top Navigation Bar\r\n */\r\n\r\nexport default function NavBar({ toggleDrawer, auth, loading }: any) {\r\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\r\n    const classes = navBarStyles();\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n\r\n    const profileMenu = (event: any) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar className={classes.bar} color='default' position=\"fixed\">\r\n                <Toolbar>\r\n                    {/* Drawer Button */}\r\n                    <IconButton onClick={toggleDrawer} edge=\"start\" className={classes.menuButton} aria-label=\"menu\">\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n\r\n                    {/* Title */}\r\n                    <Typography variant=\"h6\" className={classes.title}>\r\n                        <Link to=\"/\"><img src={prefersDarkMode ? logoLight : logoDark} className={classes.logo} alt='app-log' /></Link>\r\n                    </Typography>\r\n                    {/* Render only if not authentiacted */}\r\n                    {!auth && !loading ? (<Link to=\"/signin\" className={classes.link}><Button color=\"inherit\">Sign In</Button></Link>) : \"\"}\r\n\r\n                    {/* Render only if authenticated */}\r\n                    {auth && !loading ? (\r\n                        <>\r\n                            {/* Messages Icon */}\r\n                            <MenuItem className={classes.menuItem}>\r\n                                <IconButton aria-label=\"show 4 new mails\">\r\n                                    <Badge badgeContent={4} color=\"secondary\">\r\n                                        <MessageIcon />\r\n                                    </Badge>\r\n                                </IconButton>\r\n                            </MenuItem>\r\n\r\n                            {/* Notifications Icon */}\r\n                            <MenuItem className={classes.menuItem}>\r\n                                <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\r\n                                    <Badge badgeContent={11} color=\"secondary\">\r\n                                        <NotificationsIcon />\r\n                                    </Badge>\r\n                                </IconButton>\r\n                            </MenuItem>\r\n\r\n                            {/* Profile Icon */}\r\n                            <div>\r\n                                {window.innerWidth > 500 && (\r\n                                    <>\r\n                                        <MenuItem className={classes.menuItem}>\r\n                                            <IconButton\r\n                                                aria-label=\"account of current user\"\r\n                                                aria-controls=\"menu-appbar\"\r\n                                                aria-haspopup=\"true\"\r\n                                                onClick={profileMenu}\r\n                                                color=\"inherit\"\r\n                                            >\r\n                                                <AccountCircle />\r\n                                            </IconButton>\r\n                                        </MenuItem>\r\n\r\n                                        <Menu\r\n                                            id=\"menu-appbar\"\r\n                                            anchorEl={anchorEl}\r\n                                            anchorOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'right',\r\n                                            }}\r\n                                            keepMounted\r\n                                            transformOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'right',\r\n                                            }}\r\n                                            open={open}\r\n                                            onClose={handleClose}\r\n                                        >\r\n                                            <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n                                            <MenuItem onClick={handleClose}>My account</MenuItem>\r\n                                        </Menu>\r\n                                    </>\r\n\r\n                                )}\r\n                            </div>\r\n                        </>\r\n                    ) : \"\"}\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    );\r\n}\r\n","import useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport logoLight from '../images/logo-light-blue.png';\r\nimport logoDark from '../images/logo-dark-blue.png';\r\nimport React from 'react'\r\n\r\n/**\r\n * Returns the app logo depending on the current theme (dark or light);\r\n */\r\n\r\nfunction Logo(props: any) {\r\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\r\n\r\n    return (\r\n        <img src={prefersDarkMode ? logoLight : logoDark} className={props.className} alt=\"App Logo\" />\r\n    );\r\n};\r\n\r\n\r\nexport default Logo;","import React from 'react';\nimport { ListItem, ListItemIcon, Badge, ListItemText } from '@material-ui/core';\n/**\n * Drawer List Item Component\n */\n\nconst DrawerItem = (props: any) => {\n    const Icon = props.icon;\n  \n    const onItemClick = () => {\n      if (props.onClick) props.onClick();\n      return;\n    }\n  \n    return (\n      <ListItem button key={props.name} onClick={() => onItemClick()} selected={props.selected}>\n        <ListItemIcon><Badge badgeContent={props.badgeCount} color=\"secondary\"><Icon /></Badge></ListItemIcon>\n        <ListItemText primary={props.name} />\n      </ListItem>\n    )\n  };\n\n  export { DrawerItem }","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { withRouter, RouteComponentProps } from \"react-router\";\r\nimport { drawerStyles } from './styles';\r\n\r\nimport {\r\n  Drawer,\r\n  List,\r\n  Divider,\r\n  ListItem,\r\n  ListItemText,\r\n  Badge,\r\n  Typography,\r\n} from '@material-ui/core'\r\n\r\n// List Icons\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport HomeIcon from '@material-ui/icons/HomeOutlined'\r\nimport ProductIcon from '@material-ui/icons/AllInboxOutlined';\r\nimport AccountIcon from '@material-ui/icons/AccountCircleOutlined';\r\nimport MessageIcon from '@material-ui/icons/MessageOutlined';\r\nimport LogoutIcon from '@material-ui/icons/ExitToAppOutlined';\r\nimport InfoIcon from '@material-ui/icons/InfoOutlined'\r\nimport SigninIcon from '@material-ui/icons/MeetingRoomOutlined'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport RegisterIcon from '@material-ui/icons/ExitToApp';\r\nimport StarsIcon from '@material-ui/icons/Stars';\r\nimport { useTheme } from '@material-ui/core/styles';\r\n\r\n// App Logo\r\nimport Logo from '../components/Logo';\r\nimport { CssBaseline, Hidden } from '@material-ui/core';\r\n\r\nimport { DrawerItem } from './drawer-item';\r\n\r\n\r\n/**\r\n * Side expandable navigation drawer\r\n */\r\n\r\ninterface NavDrawerProps extends RouteComponentProps{\r\n  toggleDrawer: () => void,\r\n  signOut: () => void,\r\n  auth: boolean,\r\n  open: boolean,\r\n  loading: boolean,\r\n  username: string,\r\n  history: any\r\n}\r\n\r\nfunction NavDrawer(props: NavDrawerProps) {\r\n  const classes = drawerStyles();\r\n  const theme = useTheme();\r\n\r\n  // Destructure props\r\n  const { open, toggleDrawer, auth, username, signOut, history, loading } = props;\r\n\r\n  // Items visible at the top of the drawer at all times\r\n  const mainItems = [\r\n    { name: \"Home\", icon: HomeIcon, onClick: () => history.push('/'), path: '/' },\r\n    // { name: \"Products\", icon: ProductIcon, path: '/products' },\r\n    { name: 'Favorites', icon: StarsIcon, onClick: () => history.push('/favorites'), path: '/favorites'},\r\n    { name: \"Sell an Item\", icon: AddIcon, onClick: () => history.push('/sell'), path: '/sell' },\r\n    { name: \"Info\", icon: InfoIcon, path: '/info' }\r\n  ];\r\n\r\n  // User related items, different items are rendered depending on the auth state\r\n  const userItems = auth ? [\r\n    { name: username, icon: AccountIcon, path: '' },\r\n    { name: \"Messages\", icon: MessageIcon, badgeCount: 4, path: '' },\r\n    { name: \"Sign Out\", icon: LogoutIcon, onClick: () => signOut(), path: '' },\r\n  ] :  [\r\n      { name: \"Sign In\", icon: SigninIcon, onClick: () => props.history.push('/signin'), path: '/signin' },\r\n      { name: \"Register\", icon: RegisterIcon, onClick: () => props.history.push('/signup'), path: '/signup' }\r\n    ];\r\n\r\n  // Drawer items list\r\n  const list = (mobile: boolean) => (\r\n    <div\r\n      className={clsx(classes.list)}\r\n      role=\"presentation\"\r\n      onClick={() => mobile && toggleDrawer()}\r\n      onKeyDown={() => mobile && toggleDrawer()}>\r\n      <List>\r\n\r\n        {/* App Logo */}\r\n        {mobile && (\r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          <Logo className={classes.logo} />\r\n        </Typography>\r\n        )}\r\n\r\n        {/* Main Drawer Items */}\r\n        {mainItems.map((item, index) => (\r\n          <DrawerItem key={index} name={item.name} icon={item.icon} onClick={item.onClick} selected={props.location.pathname === item.path}  />\r\n        ))}\r\n      </List>\r\n\r\n      <Divider className={classes.divider} />\r\n\r\n      {/* Drawer Items that appear only when the user is authenticated */}\r\n      {userItems.map((item, index) => (\r\n        <DrawerItem key={index} name={item.name} icon={item.icon} badgeCount={item.badgeCount} onClick={item.onClick} selected={props.location.pathname === item.path}  />\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  const container = window !== undefined ? () => window.document.body : undefined;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\r\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n        <Hidden mdDown implementation=\"css\">\r\n          <Drawer\r\n            container={container}\r\n            variant=\"temporary\"\r\n            anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n            open={open}\r\n            onClose={toggleDrawer}\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            ModalProps={{\r\n              keepMounted: true, // Better open performance on mobile.\r\n            }}\r\n          >\r\n            {list(true)}\r\n          </Drawer>\r\n        </Hidden>\r\n        <Hidden smDown implementation=\"css\">\r\n          <Drawer\r\n            classes={{ paper: classes.permanentDrawer }}\r\n            variant=\"permanent\"\r\n            open>\r\n            {list(false)}\r\n          </Drawer>\r\n        </Hidden>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(NavDrawer);\r\n","export const fetchDataBegin = (dataType: string) => ({\r\n    type: dataType + \"_BEGIN\"\r\n});\r\n\r\nexport const fetchDataSuccess = (dataType: string, data: any) => ({\r\n    type: dataType + \"_SUCCESS\",\r\n    payload: { data }\r\n});\r\n\r\nexport const fetchDataFailure = (dataType: string, error: any) => ({\r\n    type: dataType + \"_FAILURE\",\r\n    payload: { error }\r\n});\r\n\r\nexport var apiUrl : string | undefined = \"\"\r\n\r\nif (process.env.NODE_ENV === \"development\") {\r\n    apiUrl = process.env.REACT_APP_LOCAL_API;\r\n} else {\r\n    apiUrl = process.env.REACT_APP_API_URL\r\n};\r\n\r\n// Request a new access token using the stored refresh token cookie\r\nexport const refreshAccessToken = () => {\r\n    return new Promise((resolve, reject) => {\r\n        fetch(`${apiUrl}/v1/users/access-token`, { method: 'GET', credentials: 'include' })\r\n            .then(async response => {\r\n                let parsedJSON = await response.json()\r\n                parsedJSON.status = response.status;\r\n                if (response.status !== 200) return reject(parsedJSON);\r\n                else resolve();\r\n\r\n            }).catch(err => reject(new Error(err)));\r\n    })\r\n}\r\n\r\nexport const httpRequest = (reqMethod: string, url: string, query?: any, headers?: any, payload?: any) => {\r\n    return new Promise((resolve, reject) => {\r\n\r\n        /**\r\n         * Create the final URL and add any provided query parameters to it\r\n         */\r\n        let finalUrl = new URL(apiUrl + url);\r\n        let queryParams = query;\r\n\r\n        finalUrl.search = new URLSearchParams(queryParams).toString();\r\n\r\n        /**\r\n         * Check if headers were sent, if not create an empty headers object\r\n         * Add Content-Type value to the headers object\r\n         */\r\n        if (!headers) headers = {}\r\n        if(headers['Content-Type'] === 'multipart/form-data') {\r\n            delete headers['Content-Type']\r\n        } else if(!headers['Content-Type']) headers['Content-Type'] = 'application/json';\r\n\r\n        /**\r\n         * Set the request options\r\n         */\r\n        let options: {credentials: any, method: string, headers: any, body?: any} = {\r\n            method: reqMethod,\r\n            credentials: \"include\",\r\n            headers: headers,\r\n        }\r\n\r\n        /**\r\n         * Check if payload data was provided through the function arguments and add it through the req body\r\n         */\r\n        if (payload) {\r\n            if(payload instanceof FormData) options.body = payload;\r\n            else options.body = JSON.stringify(payload)\r\n        }\r\n\r\n        fetch(finalUrl.toString(), options)\r\n            .then(async (response) => {\r\n         \r\n                const parsedJSON = await response.json();\r\n\r\n                // Check if the access token has expired, request a new one if it is\r\n                if (response.status === 401) {\r\n\r\n                    refreshAccessToken().then(() => {\r\n                        // Send the same request again after obtaining a new refresh token\r\n                        fetch(finalUrl.toString(), options).then(async (response) => {\r\n                            const parsedResponse = await response.json();\r\n                            parsedResponse.status = response.status;\r\n\r\n                            if (response.status !== 200) reject(parsedResponse);\r\n                            else resolve(parsedResponse);\r\n                        });\r\n                    }).catch(err => reject(err))\r\n\r\n                } else if (response.status !== 200) {\r\n                    parsedJSON.status = response.status;\r\n                    reject(parsedJSON)\r\n                } else resolve(parsedJSON)\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                reject(new Error(err))\r\n            });\r\n    })\r\n};\r\n","import { Dispatch } from \"react\";\r\n\r\n/**\r\n * Display a notification snackbar at the top right corner\r\n * Snackbar Component is placed in the root app file.\r\n */\r\nexport const displaySnackBar = (open: boolean, content: string, severity: string) => {\r\n    return (dispatch: Dispatch<any>) => {\r\n        dispatch({\r\n            type: 'SNACK_BAR',\r\n            open: open,\r\n            content: content,\r\n            severity: severity\r\n        });\r\n    };\r\n};","import NavBar from './navbar';\r\nimport Drawer from './drawer';\r\nimport React, { useEffect, Dispatch } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { checkAuth, signOut } from '../redux/actions/auth';\r\nimport {displaySnackBar} from '../redux/actions/notifications';\r\n\r\n/**\r\n * Component responsible for controlling the navigation bar and drawer\r\n */\r\nfunction Navigation({checkAuth, response, signOut, history, loading, displaySnackBar, signOutResponse}: any) {\r\n    const [drawer, setDrawer] = React.useState(false);\r\n    const [auth, setAuth] = React.useState(false);\r\n\r\n    \r\n    // Check user authentication once the component gets loaded \r\n    useEffect(() => {\r\n        checkAuth();\r\n    }, [history.location]);\r\n\r\n    /**\r\n     * Update the content of the navigation bar and drawer depending on authentication state\r\n     */\r\n    useEffect(() => {\r\n        if(response) setAuth(true);\r\n        else setAuth(false)\r\n    }, [response, loading])\r\n\r\n    const toggleDrawer = () => {\r\n        if(drawer){\r\n            setDrawer(false);\r\n        } else {\r\n            setDrawer(true);\r\n        }\r\n    };\r\n\r\n    const onSignOut = () => {\r\n        signOut(() => {\r\n            displaySnackBar(true, 'Signed out successfully', 'success');\r\n            history.push('/')\r\n        });\r\n        \r\n    }\r\n\r\n    const username = response ? `${response.firstName} ${response.lastName}` : \"\";\r\n\r\n    return (\r\n        <>\r\n            <NavBar auth={auth} toggleDrawer={toggleDrawer} loading={loading} />\r\n            <Drawer auth={auth} open={drawer} loading={loading} toggleDrawer={toggleDrawer} username={username} signOut={onSignOut} />\r\n        </>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (state: any) => {\r\n    const {checkAuthResponse, signOutResponse, checkAuthLoading, checkAuthError} = state.authReducer\r\n    return {\r\n        response: checkAuthResponse,\r\n        signOutResponse: signOutResponse,\r\n        loading: checkAuthLoading,\r\n        error: checkAuthError\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => {\r\n    return {\r\n        signOut: (cb: Function) => dispatch(signOut(cb)),\r\n\r\n        checkAuth: () => dispatch(checkAuth()),\r\n\r\n        displaySnackBar: (open: boolean, content: string, severity: string) => {\r\n            dispatch(displaySnackBar(open, content, severity));\r\n        }\r\n\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Navigation));","import {\r\n    fetchDataBegin,\r\n    fetchDataSuccess,\r\n    fetchDataFailure,\r\n    httpRequest\r\n} from '../helpers';\r\nimport { Dispatch } from 'react';\r\n\r\n\r\n\r\n/**\r\n * POST /v1/users/signin\r\n * Purpsoe: Sign in a user using its email and password\r\n */\r\nexport function signIn(email: string, password: string) {\r\n    return (dispatch: Dispatch<any>) => {\r\n        dispatch(fetchDataBegin('SIGN_IN'));\r\n        httpRequest('POST', '/v1/users/signin', false, false, { email, password })\r\n            .then((response) => {\r\n                dispatch(fetchDataSuccess('SIGN_IN', response));\r\n            })\r\n            .catch(err => {\r\n                dispatch(fetchDataFailure('SIGN_IN', err))\r\n            })\r\n    };\r\n};\r\n\r\n\r\n/**\r\n * POST /v1/users/register\r\n * Purpose: Create a new user and send all required input data to the API\r\n */\r\nexport function signUp(body: any) {\r\n    return (dispatch: Dispatch<any>) => {\r\n        dispatch(fetchDataBegin('SIGN_UP'));\r\n        httpRequest('POST', '/v1/users/register', false, false, body)\r\n            .then((response) => {\r\n                dispatch(fetchDataSuccess('SIGN_UP', response));\r\n            })\r\n            .catch(err => (dispatch(fetchDataFailure('SIGN_UP', err))));\r\n    };\r\n};\r\n\r\n/**\r\n * POST /v1/users/signout\r\n * Purpose: Sign out the current user & clear existing auth cookies\r\n */\r\nexport function signOut(cb: Function) {\r\n    return (dispatch: Dispatch<any>) => {\r\n        dispatch(fetchDataBegin('AUTH'));\r\n        httpRequest('GET', '/v1/users/signout')\r\n            .then(response => {\r\n                sessionStorage.clear();\r\n                dispatch(fetchDataSuccess('SIGN_OUT', response));\r\n\r\n                // Action callback\r\n                if(cb) cb();\r\n            })\r\n            .catch(err => {\r\n                dispatch(fetchDataFailure('SIGN_OUT', err))\r\n\r\n                // Action callback\r\n                if(cb) cb();\r\n            });\r\n    }\r\n}\r\n\r\n/**\r\n * GET /v1/users/check-auth\r\n * Purpose: Checks if the current access token is valid \r\n */\r\n\r\nexport function checkAuth() {\r\n    return (dispatch: Dispatch<any>) => {\r\n        dispatch(fetchDataBegin('CHECK_AUTH'));\r\n        httpRequest('GET', '/v1/users/check-auth')\r\n            .then((response) => {\r\n                dispatch(fetchDataSuccess('CHECK_AUTH', response));\r\n            })\r\n            .catch(err => (dispatch(fetchDataFailure('CHECK_AUTH', err))))\r\n    }\r\n}\r\n\r\n\r\n","import {\r\n    fetchDataBegin,\r\n    fetchDataSuccess,\r\n    fetchDataFailure,\r\n    httpRequest\r\n} from '../helpers';\r\nimport { Dispatch } from 'react';\r\nimport { displaySnackBar } from './notifications';\r\n\r\n/**\r\n * GET /api/v1/items\r\n * Get all items \r\n */\r\nexport function fetchItems(page?: number, cb?: () => void) {\r\n    return (dispatch: Dispatch<any>) => {\r\n        dispatch(fetchDataBegin('GET_ITEMS'));\r\n        httpRequest('GET', '/v1/items', { page: page, page_limit: 10 })\r\n            .then((response) => {\r\n                dispatch(fetchDataSuccess('GET_ITEMS', response))\r\n                if (cb) cb()\r\n            })\r\n            .catch(err => dispatch(fetchDataFailure('GET_ITEMS', err.message)))\r\n    }\r\n}\r\n\r\n/**\r\n * Clear the items reducer state\r\n */\r\n\r\n export function clearItems(){\r\n     return (dispatch: Dispatch<any>) => {\r\n         dispatch({type: \"CLEAR_ITEMS\"})\r\n     }\r\n }\r\n\r\n/**\r\n * POST /api/v1/items\r\n * Create a new item\r\n */\r\n\r\nexport function createItem(body: any, cb: (response: any, error: any) => void) {\r\n    return (dispatch: Dispatch<any>) => {\r\n        dispatch(fetchDataBegin('CREATE_ITEM'));\r\n        httpRequest('POST', '/v1/items', false, false, body)\r\n            .then((response) => {\r\n                dispatch(fetchDataSuccess('CREATE_ITEM', response));\r\n                cb(response, undefined);\r\n            })\r\n            .catch(err => {\r\n                dispatch(fetchDataFailure('CREATE_ITEM', err))\r\n                cb(undefined, err);\r\n            });\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * POST /items/:item_id/upload-images\r\n * Upload item images and add their URLS to the item's database object\r\n * Uses form-data\r\n */\r\n\r\nexport function uploadImages(itemId: string, body: any, cb: () => void) {\r\n    return (dispatch: Dispatch<any>) => {\r\n        dispatch(fetchDataBegin('UPLOAD_IMAGES'));\r\n        httpRequest('POST', `/v1/items/${itemId}/upload-images`, false, { 'Content-Type': `multipart/form-data` }, body)\r\n            .then((response) => {\r\n                cb();\r\n            })\r\n            .catch(err => {\r\n                cb();\r\n            })\r\n    }\r\n};\r\n\r\n/**\r\n * GET /categories\r\n * Returns a list of all available categories and their ID's\r\n */\r\n\r\nexport function getCategories() {\r\n    return (dispatch: Dispatch<any>) => {\r\n        dispatch(fetchDataBegin('GET_CATEGORIES'));\r\n        httpRequest('GET', '/v1/categories')\r\n            .then((response) => {\r\n                dispatch(fetchDataSuccess('GET_CATEGORIES', response))\r\n            })\r\n            .catch(err => dispatch(fetchDataFailure('GET_CATEGORIES', err.message)))\r\n    }\r\n};\r\n\r\n/** \r\n * GET /items/:item_id/favorite\r\n * Adds the sent item to the user's favorites array\r\n */\r\n\r\n export function addToFavorites(id: string,) {\r\n     return (dispatch: Dispatch<any>) => {\r\n         httpRequest('GET', `/v1/items/${id}/favorite`)\r\n         .then((response) => {\r\n             dispatch(fetchDataSuccess('ADD_FAVORITE', response))\r\n             dispatch(displaySnackBar(true, 'Added to favorites', 'success'))\r\n         })\r\n         .catch(err => {\r\n             dispatch(fetchDataFailure('ADD_FAVORITE', err));\r\n             if(err.status === 401) dispatch(displaySnackBar(true, 'Sign in to track your favorite items', 'warning'))\r\n             else dispatch(displaySnackBar(true, err.reason, 'info'));\r\n         })\r\n     }\r\n };\r\n\r\n/**\r\n * Clear the favorites reducer state\r\n */\r\n\r\nexport function clearFavorites(){\r\n    return (dispatch: Dispatch<any>) => {\r\n        dispatch({type: \"CLEAR_FAVORITES\"})\r\n    }\r\n};","import { makeStyles } from '@material-ui/core/styles';\r\n\r\n// Styles for the home page\r\nconst useStyles = makeStyles(theme => {\r\n\r\n    return (\r\n        {\r\n            container: {\r\n                background: theme.palette.background.paper,\r\n            },\r\n\r\n            gridContainer: {\r\n                maxWidth: 1300,\r\n            },\r\n\r\n            grid: {\r\n                gridGap: '1rem'\r\n            },\r\n\r\n            i: {\r\n                width: 383,\r\n                paddingLeft: 12,\r\n                paddinRight: 12,\r\n            },\r\n\r\n            title: {\r\n                color: theme.palette.primary.main,\r\n                marginTop: 62,\r\n                paddingLeft: 16,\r\n                width: 383,\r\n\r\n                [theme.breakpoints.down('xs')] :{\r\n                    textAlign: 'center',\r\n                    paddingLeft: 0\r\n                },\r\n             \r\n\r\n                [theme.breakpoints.down('md')]: {\r\n                    fontSize: 27,\r\n                    marginBottom: 0,\r\n                    \r\n                },\r\n            }\r\n        }\r\n    )\r\n})\r\n\r\nexport default useStyles;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst searchBarStyles = makeStyles(theme => {\r\n\r\n    return (\r\n        {\r\n            grid: {\r\n                paddingTop: 42,\r\n                paddingBottom: 32,\r\n                width: \"100%\",\r\n                maxWidth: 1100,\r\n                marginRight: \"auto\",\r\n                marginLeft: \"auto\",\r\n\r\n                [theme.breakpoints.down('sm')]:{\r\n                    paddingTop: 20\r\n                }\r\n\r\n            },\r\n\r\n            inputBar: {\r\n                    background: theme.palette.background.default,\r\n                },\r\n\r\n                inputNotchedOutline: {\r\n                    borderColor: `${theme.palette.primary.main} !important`\r\n                },\r\n\r\n                inputLabel: {\r\n                    fontWeight: 600\r\n                },\r\n\r\n                inputFocusedLabel: {\r\n                    color: `${theme.palette.primary.main} !important`\r\n                }\r\n            }\r\n    )\r\n});\r\n\r\nexport default searchBarStyles;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport searchBarStyles from './styles/search-bar-styles';\r\n\r\n\r\nexport default function SearchBar() {\r\n    const classes = searchBarStyles();\r\n\r\n    return (\r\n        <>\r\n\r\n            <Grid\r\n                className={classes.grid}\r\n                container\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n                alignItems=\"center\"\r\n                spacing={3}>\r\n\r\n                <TextField\r\n                    id=\"outlined-full-width\"\r\n                    label=\"Search\"\r\n                    className={classes.inputBar}\r\n                    placeholder=\"Looking for something specific?\"\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    InputLabelProps={{\r\n                        shrink: true,\r\n                        classes: {\r\n                            root: classes.inputLabel,\r\n                            focused: classes.inputFocusedLabel\r\n                        }\r\n\r\n                    }}\r\n\r\n                    InputProps={{\r\n                        classes: {\r\n                            notchedOutline: classes.inputNotchedOutline\r\n                        }\r\n                    }}\r\n\r\n                    variant=\"outlined\"\r\n\r\n                />\r\n\r\n            </Grid>\r\n        </>\r\n    )\r\n};","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n    container: {\r\n        paddingBottom: 20\r\n    },\r\n\r\n    title: {\r\n        color: theme.palette.primary.main,\r\n        marginTop: 32,\r\n        marginBottom: 32,\r\n        marginLeft: 55,\r\n\r\n        [theme.breakpoints.down('sm')]: {\r\n            fontSize: 27,\r\n            marginTop: 26,\r\n            marginBottom: 26\r\n        },\r\n\r\n        [theme.breakpoints.up('sm')]: {\r\n            textAlign: 'left',\r\n        }\r\n    },\r\n\r\n    item: {\r\n        maxWidth: 180,\r\n        height: 88,\r\n        cursor: 'pointer',\r\n        borderRadius: 20,\r\n        transition: 'all 0.2s ease-out',\r\n        '&:hover $icon': {\r\n            fontSize: 40\r\n        },\r\n\r\n        '&:hover': {\r\n            background: 'rgba(10, 10, 10, 0.085)',\r\n        }\r\n    },\r\n\r\n    icon: {\r\n        transition: 'all 0.2s ease-out',\r\n        fontSize: 34,\r\n        marginBottom: 8,\r\n        color: theme.palette.primary.main,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        width: \"100%\"\r\n    },\r\n\r\n    iconTitle: {\r\n        fontSize: 14,\r\n        width: \"100% !important\",\r\n        color: theme.palette.primary.main\r\n    }\r\n}));\r\n\r\nexport default useStyles;","import React from \"react\";\r\nimport {Grid, Typography} from '@material-ui/core';\r\nimport Styles from './styles/categories';\r\nimport { withRouter, RouteComponentProps } from \"react-router\";\r\n\r\nimport Laptop from '@material-ui/icons/LaptopChromebookRounded';\r\nimport Computer from '@material-ui/icons/Computer';\r\nimport Keyboard from '@material-ui/icons/Keyboard';\r\nimport SportsEsports from '@material-ui/icons/SportsEsports';\r\nimport Watch from '@material-ui/icons/Watch';\r\nimport Tv from '@material-ui/icons/Tv';\r\nimport Speaker from '@material-ui/icons/Speaker';\r\nimport Category from \"../../types/Category\";\r\nimport AppsIcon from '@material-ui/icons/Apps';\r\n\r\ninterface Props extends RouteComponentProps{\r\n    categories: Array<Category>\r\n};\r\n\r\nfunction Component({categories}: Props) {\r\n    const classes = Styles();\r\n    \r\n    return (\r\n        <div className={classes.container}>\r\n\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n                alignItems=\"flex-start\"\r\n                spacing={3}>\r\n\r\n\r\n                {categories.length > 0 && categories.map((category: Category, index: number) => {\r\n                    let Icon = AppsIcon;\r\n\r\n                    if(category.name === 'Laptops & Computers') Icon = Computer\r\n                    if(category.name === \"TV's & Monitors\") Icon = Tv\r\n                    if(category.name === 'Gaming Consoles') Icon = SportsEsports\r\n                    if(category.name === 'Speakers & Headsets') Icon = Speaker\r\n                    if(category.name === 'Accessories') Icon = Keyboard\r\n                    if(category.name === 'Smart Watches') Icon = Watch\r\n\r\n                    return (\r\n                        <Grid item className={classes.item} key={index}>\r\n                            <Icon className={classes.icon} />\r\n                            <Typography variant=\"subtitle1\" className={classes.iconTitle} align=\"center\">\r\n                                {category.name}\r\n                            </Typography>\r\n                        </Grid>\r\n                    )\r\n                })}\r\n\r\n\r\n\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Categories = withRouter(Component)\r\n\r\nexport {Categories}\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\n/**\r\n * Styles for the Item component\r\n */\r\nconst itemStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: 355,\r\n        borderRadius: 12,\r\n        height: 380,\r\n        flexGrow: 1,\r\n        marginTop: 16,\r\n        marginRight: 'auto',\r\n        marginLeft: 'auto',\r\n        boxShadow: \"0px 0px 0px -1px rgba(0,0,0,0.2), 0px 0px 0px 1px rgba(0,0,0,0.05), 0px 0px 1px 0px rgba(0,0,0,0.12)\",\r\n        backgroundColor: theme.palette.background.default\r\n    },\r\n    media: {\r\n        height: 200,\r\n    },\r\n    \r\n    divider: {\r\n        marginTop: 8,\r\n        marginBottom: 12\r\n    },\r\n\r\n    price: {\r\n        fontWeight: 600,\r\n        color: theme.palette.primary.main,\r\n        marginBottom: 0\r\n        \r\n    },\r\n\r\n    button: {\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        color: theme.palette.primary.main\r\n    },\r\n\r\n    buttonIcon: {\r\n        height: 20,\r\n        marginRight: 12\r\n    },\r\n\r\n    date: {\r\n        paddingTop: 2\r\n    }\r\n}));\r\n\r\nexport default itemStyles;","\r\n/**\r\n * Takes time in ms and returns time in minutes, hours or days\r\n */\r\n\r\nexport const formatTime = (ms: number | undefined) => {\r\n    if(!ms) return null;\r\n    \r\n    const currentDate = Date.now();\r\n    const time: number = currentDate - ms;\r\n\r\n    const minutes: number = parseInt((time / 60000).toFixed())\r\n  \r\n    if(minutes < 1) return \"Less than a minute ago\"\r\n    else if(minutes < 60) return `${minutes} minutes ago`;\r\n\r\n    const hours: number = parseInt((minutes / 60).toFixed());\r\n\r\n    if(hours < 24) {\r\n        if(hours === 1 ) return `${hours} hour ago`\r\n        return `${hours} hours ago`\r\n    }; \r\n\r\n    const days: number = parseInt((hours / 24).toFixed());\r\n\r\n    if(days < 24) return `${days} days ago`;\r\n\r\n};","const initialState = {\r\n    authResponse: null,\r\n    signOutResponse: null,\r\n    checkAuthResponse: null,\r\n\r\n    authError: null,\r\n    checkAuthError: null,\r\n\r\n    authLoading: false,\r\n    checkAuthLoading: false \r\n}\r\n\r\nexport default function authReducer(state = initialState, action: any) {\r\n    switch (action.type) {\r\n\r\n        /**\r\n         * Actions for the sign in, sign up and check auth functions\r\n         */\r\n\r\n        case \"SIGN_IN_BEGIN\":\r\n        case \"SIGN_UP_BEGIN\":\r\n            return { ...state, authLoading: true, authError: null }\r\n\r\n        case \"CHECK_AUTH_BEGIN\":\r\n            return{ ...state, checkAuthLoading: true, checkAuthError: null}\r\n\r\n        case \"SIGN_IN_SUCCESS\":\r\n        case \"SIGN_UP_SUCCESS\":\r\n            return { ...state, authLoading: false, authResponse: action.payload.data, authError: null}\r\n\r\n        case \"CHECK_AUTH_SUCCESS\":\r\n            return { ...state, checkAuthLoading: false, checkAuthResponse: action.payload.data, checkAuthError: null, authError: null }\r\n\r\n        case \"SIGN_OUT_SUCCESS\":\r\n            return { ...state, authLoading: false, authResponse: null, signOutResponse: action.payload.data, authError: null }\r\n\r\n        case \"SIGN_IN_FAILURE\":\r\n        case \"SIGN_UP_FAILURE\":\r\n            return { ...state, authLoading: false, authResponse: null, authError: action.payload.error }\r\n\r\n        case \"CHECK_AUTH_FAILURE\":\r\n            return { ...state, checkAuthLoading: false, checkAuthResponse: null, checkAuthError: action.payload.error }\r\n\r\n        case \"SIGN_OUT_FAILURE\":\r\n            return {...state, authLoading: false, signOutError: action.payload.error, authError: null}\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    response: {},\r\n    loadings: false,\r\n    error: null\r\n};\r\n\r\nexport default function fetchItemsReducer(state = initialState, action: any) {\r\n    switch (action.type) {\r\n        case \"GET_ITEMS_BEGIN\":\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n                error: null\r\n            }\r\n\r\n        case \"GET_ITEMS_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: null,\r\n                response: action.payload.data\r\n            }\r\n\r\n        case \"GET_ITEMS_FAILURE\":\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload.error,\r\n                response: {}\r\n            }\r\n\r\n        case \"CLEAR_ITEMS\":\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                response: {}\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n","const initialState = {\r\n    response: {},\r\n    loadings: false,\r\n    error: null\r\n};\r\n\r\nexport default function createItemReducer(state = initialState, action: any) {\r\n    switch (action.type) {\r\n        case \"CREATE_ITEM_BEGIN\":\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n                error: null\r\n            }\r\n\r\n        case \"CREATE_ITEM_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: null,\r\n                response: action.payload.data\r\n            }\r\n\r\n        case \"CREATE_ITEM_FAILURE\":\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload.error,\r\n                response: {}\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n","const initialState = {\r\n    open: false,\r\n    content: null,\r\n    severity: null\r\n};\r\n\r\nexport default function notificationReducer(state = initialState, action: any) {\r\n\r\n    if(action.type === 'SNACK_BAR') {\r\n        const { open, content, severity } = action;\r\n\r\n        return {\r\n            ...state,\r\n            open: open,\r\n            content: content,\r\n            severity: severity\r\n        };\r\n\r\n    };\r\n\r\n    return state;\r\n}\r\n","const initialState = {\n    response: {},\n    loading: false,\n    error: null\n}\n\nexport default function categoriesReducer(state = initialState, action: any) {\n    switch (action.type) {\n        case \"GET_CATEGORIES_BEGIN\":\n            return {...state, loading: true, error: null}\n        \n        case \"GET_CATEGORIES_SUCCESS\":\n            return {...state, loading: false, response: action.payload.data}\n        \n        case \"GET_CATEGORIES_FAILURE\":\n            return {...state, loading: false, error: action.payload.error, response: {}}\n\n        default: return state;\n        }\n}","const initialState = {\n    favorites: {},\n    response: null,\n    loading: false,\n    error: null\n}\n\nexport default function favoritesReducer(state = initialState, action: any) {\n    switch (action.type) {\n        case \"GET_FAVORITES_BEGIN\":\n            return {...state, loading: true, error: null}\n        \n        case \"GET_FAVORITES_SUCCESS\":\n            return {...state, loading: false, response: action.payload.data}\n        \n        case \"GET_FAVORITES_FAILURE\":\n            return {...state, loading: false, error: action.payload.error, response: {}}\n\n        case \"ADD_FAVORITE_SUCCESS\":\n            return {...state, error: null, response: action.payload.data}\n\n        case \"ADD_FAVORITE_FAILURE\":\n            return {...state, error: action.payload.error, response: null}\n\n        case \"CLEAR_FAVORITES\":\n            return {...state, error: null, response: null, favorites: null}\n\n        default: return state;\n        }\n}","const initialState = {\n    response: null,\n    loading: false,\n    error: null\n};\n\nexport default function locationReducer(state = initialState, action: any) {\n    switch (action.type) {\n        case 'GET_CITIES_BEGIN':\n            return { ...state, loading: true, response: null, error: null }\n\n        case 'GET_CITIES_SUCCESS':\n            return { ...state, loading: false, response: action.payload.data, error: null }\n\n        case 'GET_CITIES_FAILURE':\n            return { ...state, loading: false, response: null, error: action.payload.error }\n\n        default:\n            return state;\n    }\n}","import {createStore, combineReducers, applyMiddleware} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport authReducer from '../redux/reducers/auth';\r\nimport fetchItemsReducer from '../redux/reducers/Items/fetch-items';\r\nimport createItemReducer from '../redux/reducers/Items/create-item';\r\nimport notificationReducer from '../redux/reducers/notifications';\r\nimport categoriesReducer from '../redux/reducers/Items/categories';\r\nimport favoritesReducer from '../redux/reducers/Items/favorites';\r\nimport locationReducer from '../redux/reducers/location';\r\n\r\nexport default createStore(\r\n    combineReducers({\r\n        authReducer,\r\n        fetchItemsReducer,\r\n        createItemReducer,\r\n        notificationReducer,\r\n        categoriesReducer,\r\n        favoritesReducer,\r\n        locationReducer\r\n    }),\r\n    {},\r\n    applyMiddleware(thunk)\r\n);\r\n\r\n","import React from 'react';\r\n\r\n// Material UI Components\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport placeholder from '../../images/placeholder-image.png'\r\nimport StarsIcon from '@material-ui/icons/Stars';\r\nimport MessageIcon from '@material-ui/icons/Message';\r\n\r\n// Component Styles\r\nimport itemStyles from './styles/item-styles';\r\nimport { formatTime } from '../../helpers';\r\nimport Item from '../../types/Item';\r\nimport { addToFavorites } from '../../redux/actions/items';\r\nimport store from '../../setup/redux-store';\r\n\r\ninterface Props {\r\n    item: Item,\r\n    onClick: () => void,\r\n}\r\n\r\n\r\nexport default function ItemCard({ item, onClick }: Props) {\r\n    const classes = itemStyles();\r\n\r\n    const time = formatTime(item.time);\r\n\r\n    return (\r\n        <Card className={classes.root} >\r\n            <CardActionArea onClick={onClick}>\r\n                <CardMedia\r\n                    className={classes.media}\r\n                    image={item.images[0] ? process.env.REACT_APP_AWS_URL + \"/\" + item.images[0] : placeholder}\r\n                />\r\n                <CardContent>\r\n                    <Typography gutterBottom variant=\"h6\" component=\"h2\" style={{ height: 32, overflow: 'hidden' }}>\r\n                        {item.title}\r\n                    </Typography>\r\n\r\n                    {/* Row Grid */}\r\n                    <Grid style={{ marginBottom: 12 }} container direction=\"row\" justify=\"space-between\" alignItems=\"flex-start\">\r\n\r\n                        <Typography variant=\"subtitle2\" component=\"p\">\r\n                            {item.seller.city.name}, Egypt\r\n                      </Typography>\r\n\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\" className={classes.date}>\r\n                            {time}\r\n                        </Typography>\r\n\r\n                    </Grid>\r\n\r\n                    <Typography className={classes.price} variant=\"subtitle2\" gutterBottom>\r\n                        {item.price} EGP\r\n                      </Typography>\r\n\r\n                </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n\r\n                <Button className={classes.button} size=\"small\" onClick={() => store.dispatch(addToFavorites(item._id))}>\r\n                    <StarsIcon className={classes.buttonIcon} /> Favorite\r\n                </Button>\r\n\r\n                <Button className={classes.button} size=\"small\">\r\n                    <MessageIcon className={classes.buttonIcon} /> Message\r\n                 </Button>\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n}\r\n","import React, { useEffect } from \"react\";\nimport { Modal, makeStyles, Fade, Backdrop, Box } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    modal: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \n    },\n    paper: {\n        backgroundColor: theme.palette.background.paper,\n        border: 0,\n        // padding: theme.spacing(2, 4, 3),\n        minWidth: 400,\n        borderRadius: 5,\n        '&:focus': {\n            outline: '0 !important'\n        }\n       \n    },\n    title: {\n        textAlign: 'center'\n    },\n    children: {\n        width: 'fit-content',\n        marginLeft: 'auto',\n        marginRight: 'auto'\n    }\n}));\n\ninterface Modal {\n    open: boolean;\n    handleClose: (arg0: boolean) => void;\n    children: React.ReactNode;\n    title?: string\n};\n\nexport default function ModalComponent(props: Modal) {\n    const classes = useStyles();\n\n    const [open, setOpen] = React.useState(props.open);\n\n    const handleClose = () => {\n        setOpen(false);\n        props.handleClose(false);\n    };\n\n    useEffect(() => {\n        setOpen(props.open);\n    }, [props.open]);\n\n    return (\n        <>\n            <Modal\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                className={classes.modal}\n                open={open}\n                onClose={handleClose}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{ timeout: 500, }}>\n\n                <Fade in={open}>\n                    <div className={classes.paper}>\n                        <h2 id=\"transition-modal-title\" className={classes.title}>{props.title}</h2>\n                        <Box width={1} className={classes.children}>\n                          {props.children}\n                        </Box>\n                    </div>\n                </Fade>\n            </Modal>\n        </>\n    )\n}","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => {\n    return (\n        {\n            root: {\n                maxWidth: 500,\n                maxHeight: window.screen.height - 100,\n                overflowY: 'scroll',\n                overflowX: 'hidden',\n                display: 'block',\n                marginTop: -15,\n\n                [theme.breakpoints.down('xs')]: {\n                    maxHeight: window.screen.height - 200,\n                }\n            },\n\n            closeButton: {\n                background: theme.palette.background.paper,\n                zIndex: 999,\n                borderRadius: '0px 0px 0px 0px',\n                width: '30px !important',\n                visibility: 'hidden',\n                top: -5,\n\n                [theme.breakpoints.down('xs')]: {\n                    visibility: 'visible'\n                }\n            },\n\n            body: {\n            \n                marginBottom: 32\n            },\n\n            image: {\n                width: '100%',\n                maxHeight: 322,\n                marginTop: -42,\n                borderRadius: '5px 5px 0px 0px',\n                marginRight: 'auto',\n                marginLeft: 'auto',\n\n                [theme.breakpoints.down('sm')]: {\n                    maxWidth: '100%'\n                }\n            },\n\n            price: {\n                fontWeight: 600,\n                color: theme.palette.primary.main,\n                marginBottom: 8,\n                marginTop: 8\n            },\n\n            content: {\n                padding: theme.spacing(2, 4, 4),\n            },\n\n            button: {\n                marginLeft: 'auto',\n                marginRight: 'auto',\n                color: theme.palette.primary.main,\n                width: \"33.3%\"\n            },\n\n            buttonIcon: {\n                height: 22,\n                marginRight: 12\n            }\n        }\n    )\n});\n\nexport default useStyles;\n","import React from 'react';\nimport Modal from '../Modal'\nimport Item from '../../types/Item';\nimport Carousel from 'react-material-ui-carousel'\nimport Styles from './styles/modal-styles';\nimport { Typography, Button } from '@material-ui/core';\nimport { formatTime } from '../../helpers';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport store from '../../setup/redux-store';\nimport { displaySnackBar } from '../../redux/actions/notifications';\nimport { addToFavorites } from '../../redux/actions/items';\nimport StarsIcon from '@material-ui/icons/Stars';\nimport MessageIcon from '@material-ui/icons/Message';\nimport CallIcon from '@material-ui/icons/Call';\n\ninterface Props {\n    open: boolean,\n    handleClose: () => void,\n    item: Item | undefined,\n}\n\nconst ItemModal = ({ open, handleClose, item }: Props) => {\n    const classes = Styles();\n\n\n    if (!item) return <></>;\n\n    return (\n        <Modal\n            open={open}\n            handleClose={handleClose}>\n            <div className={classes.root}>\n                <Button className={classes.closeButton} onClick={handleClose}><CloseIcon /></Button>\n                <Carousel autoPlay={false} navButtonsAlwaysVisible={true}>\n                    {item?.images.map((image: any, index: number) => (\n                        <img key={index} className={classes.image} src={`${process.env.REACT_APP_AWS_URL}/${image}`} />\n                    ))}\n                </Carousel>\n\n                <div className={classes.content}>\n                    <Typography variant=\"h5\" align='center'>{item?.title}</Typography>\n                    <Typography variant=\"subtitle1\" align='center' className={classes.price}>{formatTime(item?.time)}</Typography>\n                    <Typography variant=\"subtitle1\" className={classes.price}>{item?.price} EGP</Typography>\n                    <Typography variant=\"subtitle2\">By {item?.seller.name}</Typography>\n                    <Typography className={classes.body} style={{ marginTop: 16 }} variant=\"body2\">{item?.details}</Typography>\n\n                    <div>\n                        <CopyToClipboard text={item?.seller.phone}>\n                            <Button className={classes.button} size=\"small\"\n                                onClick={() => store.dispatch(displaySnackBar(true, 'Phone number copied to clipboard', 'success'))}>\n                                <CallIcon className={classes.buttonIcon} /> Call\n                            </Button>\n                        </CopyToClipboard>\n\n                        <Button className={classes.button} size=\"small\">\n                            <MessageIcon className={classes.buttonIcon} /> Message\n                        </Button>\n\n                        <Button className={classes.button}\n                            size=\"small\" onClick={() => store.dispatch(addToFavorites(item._id))}>\n                            <StarsIcon className={classes.buttonIcon} /> Favorite\n                        </Button>\n                    </div>\n                </div>\n\n            </div>\n        </Modal>\n    )\n};\n\nexport default ItemModal;","import React, { useState, SyntheticEvent, useEffect } from 'react';\r\nimport ItemCard from '../../components/Item/ItemCard';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withRouter } from 'react-router';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n// Styling\r\nimport HomeStyles from './styles/home';\r\nimport ItemModal from '../../components/Item/ItemModal';\r\nimport Item from '../../types/Item';\r\n\r\n/**\r\n * Component responsible for displaying all recent items and handles automatic pagination\r\n * Takes the fetchItems action & fetchItems reducer state as props\r\n */\r\n\r\nfunction RecentItems(props: any) {\r\n    const [modal, setModal] = useState<boolean>(false);\r\n    const [selectedItem, setSelectedItem] = useState<Item>();\r\n    const classes = HomeStyles();\r\n\r\n    if (!props.items) return <></>\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.gridContainer}>\r\n                {/* Grid title in a different grid to align with the grid items */}\r\n                <Grid\r\n                    className={classes.grid} container direction=\"row\"\r\n                    justify=\"center\" alignItems=\"flex-start\" spacing={3}>\r\n                    <Typography variant=\"h5\" gutterBottom className={classes.title}>\r\n                        Most Recent\r\n                    </Typography>\r\n                    <i className={classes.i} aria-hidden='true'></i>\r\n                    <i className={classes.i} aria-hidden='true'></i>\r\n                    <i className={classes.i} aria-hidden='true'></i>\r\n                </Grid>\r\n\r\n                    <Grid\r\n                        className={classes.grid}\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"flex-start\"\r\n                        spacing={3}>\r\n\r\n                        {props.items.map((item: Item, index: number) => (\r\n                            <Grid item key={index}>\r\n                                <ItemCard item={item} \r\n                                onClick={() => { setModal(true); setSelectedItem(item) }} />\r\n                            </Grid>\r\n                        ))}\r\n\r\n                        {/* hidden items to align last row */}\r\n                        <i className={classes.i} aria-hidden='true'></i>\r\n                        <i className={classes.i} aria-hidden='true'></i>\r\n                        <i className={classes.i} aria-hidden='true'></i>\r\n                    </Grid>\r\n   \r\n\r\n            </div>\r\n\r\n            {modal && <ItemModal \r\n            item={selectedItem} open={modal} handleClose={() => setModal(false)} />}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(RecentItems);","import React, { useEffect, Dispatch, useState } from 'react';\r\nimport { Container, LinearProgress } from '@material-ui/core'\r\nimport { withRouter, RouteComponentProps } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport { fetchItems, getCategories, clearItems, addToFavorites } from '../../redux/actions/items';\r\nimport HomeStyles from './styles/home';\r\nimport MetaTags from 'react-meta-tags';\r\n\r\n// Home Page Sections\r\nimport SearchBar from '../../components/SearchBar'\r\nimport { Categories } from './categories'\r\nimport RecentItems from './recent-items';\r\nimport Category from '../../types/Category';\r\n\r\nconst PageMetaTags = () => (\r\n    <MetaTags>\r\n        <title>Tech Corner - Home</title>\r\n        <meta name=\"description\" content=\"Tech Corner Home Page\" />\r\n        <meta property=\"og:title\" content=\"Tech Corner - Home\" />\r\n    </MetaTags>\r\n)\r\n\r\ninterface HomeProps extends RouteComponentProps {\r\n    response: any,\r\n    loading: boolean,\r\n    error: object,\r\n    categoriesResponse: Array<Category>\r\n    categoiresError: object,\r\n    categoriesLoading: boolean,\r\n    fetchItems: (page?: number, cb?: () => void) => void,\r\n    getCategories: () => void,\r\n    clearItems: () => void,\r\n}\r\n\r\n\r\nfunction Home(props: HomeProps) {\r\n    const classes = HomeStyles();\r\n    const [paginatedItems, setPaginatedItems] = useState<any>(undefined);\r\n    const [bottomReached, setBottomReached] = useState<boolean>(false);\r\n\r\n\r\n    // Scrolling event handler for infinite pagination\r\n    const handleScroll = () => {\r\n        const windowHeight = \"innerHeight\" in window ? window.innerHeight : document.documentElement.offsetHeight;\r\n        const body = document.body;\r\n        const html = document.documentElement;\r\n        const docHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\r\n        const windowBottom = windowHeight + window.pageYOffset;\r\n        if (windowBottom + 1000 >= docHeight) {\r\n            setBottomReached(true);\r\n        } else {\r\n            setBottomReached(false)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        props.fetchItems(1)\r\n        props.getCategories();\r\n\r\n        window.addEventListener('scroll', handleScroll)\r\n\r\n        // Clean up event listener to avoid memory leaks\r\n        return function cleanup() {\r\n            props.clearItems()\r\n            window.removeEventListener(\"scroll\", handleScroll);\r\n            setPaginatedItems(undefined)\r\n        }\r\n    }, []);\r\n\r\n    // Fetch more items once the bottom is reached\r\n    useEffect(() => {\r\n        if (props.response.has_more) {\r\n            if (bottomReached) {\r\n                fetchMore()\r\n            }\r\n        }\r\n    }, [bottomReached])\r\n\r\n    const fetchMore = () => {\r\n        props.fetchItems(props.response.page + 1)\r\n    }\r\n\r\n    // Append the additional items to the page when fetched\r\n    useEffect(() => {\r\n        if (paginatedItems !== undefined) {\r\n            if (!paginatedItems.includes(props.response.items)) {\r\n                setPaginatedItems([...paginatedItems, ...props.response.items])\r\n            }\r\n        } else paginatedItems === undefined && setPaginatedItems(props.response.items)\r\n    }, [props.response]);\r\n\r\n\r\n    if (!props.response.items || props.categoriesLoading) return <LinearProgress />\r\n\r\n    return (\r\n        <>\r\n            <PageMetaTags />\r\n            <div className={classes.container}>\r\n                <Container className={classes.container} maxWidth='lg'>\r\n                    <SearchBar />\r\n                    <Categories categories={props.categoriesResponse} />\r\n                    <RecentItems items={paginatedItems} />\r\n                </Container>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n// Map the Redux reducer's state to the component's props\r\nconst mapStateToProps = (state: any) => {\r\n    const { response, loading, error } = state.fetchItemsReducer;\r\n    const { response: categoriesResponse, loading: categoriesLoading, error: categoriesError } = state.categoriesReducer;\r\n\r\n    return {\r\n        response,\r\n        loading,\r\n        error,\r\n        categoriesResponse,\r\n        categoriesLoading,\r\n        categoriesError\r\n    };\r\n};\r\n\r\n// Map the Redux actions to the component's props\r\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => {\r\n    return {\r\n        fetchItems: (page?: number, cb?: () => void) => {\r\n            dispatch(fetchItems(page, cb));\r\n        },\r\n\r\n        clearItems: () => {\r\n            dispatch(clearItems())\r\n        },\r\n\r\n        getCategories: () => {\r\n            dispatch(getCategories());\r\n        },\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Home))","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => {\r\n\r\n    return (\r\n        {\r\n            root: {\r\n                paddingTop: 1,\r\n            },\r\n\r\n            inputField: {\r\n                background: theme.palette.background.default\r\n            },\r\n\r\n            paper: {\r\n                marginTop: theme.spacing(8),\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n            },\r\n\r\n            logo: {\r\n                height: 60,\r\n                marginBottom: 36\r\n            },\r\n\r\n            form: {\r\n                width: '100%',\r\n                marginTop: theme.spacing(4),\r\n            },\r\n\r\n            errorMessage: {\r\n                marginTop: 8\r\n            },\r\n            \r\n            link: {\r\n                color: theme.palette.primary.main,\r\n                cursor: \"pointer\"\r\n            },\r\n      \r\n            submit: {\r\n                margin: theme.spacing(3, 0, 2),\r\n                height: 52,\r\n                fontSize: 16\r\n                \r\n            },\r\n        })\r\n});","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\n/**\r\n * Copyright component, placed at the bottom of some pages\r\n */\r\nfunction Copyright() {\r\n    return (\r\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {'Copyright  '}\r\n        <Link color=\"inherit\">\r\n          Tech Corner\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    );\r\n  }\r\n\r\n  export default Copyright","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => {\r\n\r\n    return (\r\n        {\r\n            inputField: {\r\n                background: theme.palette.background.default,\r\n            },\r\n\r\n            form: {\r\n                width: '100%',\r\n                marginTop: theme.spacing(4),\r\n            },\r\n\r\n            errorMessage: {\r\n                marginTop: 8\r\n            },\r\n\r\n            inputNotchedOutline: {\r\n                borderColor: `${theme.palette.primary.main} !important`\r\n            },\r\n\r\n            inputNotchedOutlineError: {\r\n                borderColor: `#CB0B0B !important`\r\n            },\r\n\r\n            inputFocusedLabel: {\r\n                color: `${theme.palette.primary.main} !important`\r\n            },\r\n        })\r\n});","import React, { useState } from 'react';\r\nimport MaterialUiPhone from 'material-ui-phone-number';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Styles from './styles/input-styles';\r\nimport { MenuItem } from '@material-ui/core';\r\n\r\n/**\r\n * Input Component  \r\n */\r\nconst Input = (props: any) => {\r\n    const classes = Styles();\r\n    const [selected, setSelected] = useState<any>('none');\r\n\r\n    // Styling classes for the inputLabel\r\n    const InputLabelProps = {\r\n        classes: {\r\n            // root: classes.inputLabel,\r\n            focused: classes.inputFocusedLabel\r\n        }\r\n    };\r\n\r\n    // Styling classes for the inputs\r\n    const InputProps = {\r\n        classes: {\r\n            root: classes.inputField,\r\n            notchedOutline: props.error ? classes.inputNotchedOutlineError : classes.inputNotchedOutline,\r\n        }\r\n    }\r\n\r\n    if (props.type === \"phone\") {\r\n        return (\r\n            <MaterialUiPhone defaultCountry='eg'\r\n                regions={['middle-east', 'north-africa']}\r\n                variant=\"outlined\"\r\n                label=\"Phone Number\"\r\n                name=\"phone\"\r\n                required\r\n                fullWidth\r\n         \r\n                // Work-around to pass phoneInput to onInputChange(), as MaterialUiPhone doesn't support inputRef\r\n                onChange={(value: any) => {\r\n                    props.onChange(value)\r\n                }}\r\n\r\n                InputLabelProps={InputLabelProps}\r\n                InputProps={InputProps}\r\n                error={props.error ? true : false}\r\n                helperText={props.error} />\r\n        )\r\n    } else if (props.type === \"select\") return (\r\n        <TextField\r\n            select\r\n            fullWidth\r\n            onChange={(e) => {\r\n                props.value && props.value(e.target.value);\r\n                props.onChange && props.onChange();\r\n            }}\r\n            inputRef={props.inputRef} \r\n            label={props.name}\r\n            required\r\n            InputLabelProps={InputLabelProps}\r\n            InputProps={InputProps}\r\n            variant=\"outlined\"\r\n            // defaultValue={'none'}\r\n            value={selected}\r\n            error={props.error ? true : false}\r\n            helperText={props.error}>\r\n            <MenuItem value=\"none\" disabled>{props.title}</MenuItem>\r\n            {props.selectOptions.length > 0 && props.selectOptions.map((option: any, index: number) => (\r\n                <MenuItem key={index} value={option._id ? option._id : option.id} \r\n                onClick={() => {\r\n                    setSelected(option.id ? option.id : option._id)\r\n                }}>{option.name}</MenuItem>\r\n            ))}\r\n        </TextField>\r\n        \r\n    )\r\n    return (\r\n        <TextField\r\n            inputProps={{ maxLength: props.maxLength }}\r\n            error={props.error ? true : false}\r\n            autoComplete={props.name}\r\n            name={props.name}\r\n            variant=\"outlined\"\r\n            type={props.type ? props.type : \"\"}\r\n            required\r\n            fullWidth\r\n            helperText={props.error}\r\n            label={props.name}\r\n            autoFocus\r\n            inputRef={props.inputRef} onChange={props.onChange}\r\n            InputLabelProps={InputLabelProps}\r\n            InputProps={InputProps}\r\n            rows={props.rows}\r\n            multiline={props.multiline}\r\n            value={props.value}\r\n\r\n        />\r\n    )\r\n}\r\n\r\nexport default Input;\r\n","import React, { useRef, SyntheticEvent } from 'react';\r\nimport {\r\n    Button,\r\n    CssBaseline,\r\n    FormControlLabel,\r\n    Checkbox,\r\n    Link,\r\n    Grid,\r\n    Box,\r\n    Typography,\r\n    Container,\r\n    LinearProgress,\r\n    CircularProgress\r\n} from '@material-ui/core';\r\nimport signInStyles from './styles/styles';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport Logo from '../../components/Logo';\r\nimport Copyright from '../../setup/Copyright';\r\n\r\nimport Input from '../../components/InputComponent';\r\n\r\nfunction SignIn(props: any) {\r\n    const classes = signInStyles();\r\n\r\n    // input references\r\n    const emailInput = useRef<HTMLInputElement>(null);\r\n    const passwordInput = useRef<HTMLInputElement>(null);\r\n\r\n    /**\r\n     * Send the email & password input values to the parent component\r\n     */\r\n    const onInputChange = () => {\r\n        // Input value\r\n        const email = emailInput.current?.value;\r\n        const password = passwordInput.current?.value;\r\n\r\n        // Add both input values to one object then send it to the parent using props\r\n        var inputData = {\r\n            email: email,\r\n            password: password\r\n        }\r\n\r\n        props.sendDataToParent(inputData);\r\n    };\r\n\r\n    /**\r\n     * Perform the onSubmit props function once the submit button is clicked\r\n     */\r\n    const onSubmit = (e: SyntheticEvent) => {\r\n        e.preventDefault();\r\n        props.onSubmit();\r\n    };\r\n\r\n    if(props.checkAuthLoading) {\r\n        return (\r\n            <LinearProgress />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\" className={classes.root}>\r\n            <CssBaseline />\r\n\r\n            <div className={classes.paper}>\r\n                <Logo className={classes.logo} />\r\n\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign in\r\n                </Typography>\r\n\r\n                <form className={classes.form} noValidate onSubmit={(e) => onSubmit(e)}>\r\n\r\n                    <Grid item xs={12}>\r\n                        <Input name=\"Email\" inputRef={emailInput} onChange={onInputChange} />\r\n                    </Grid>\r\n\r\n                    <br />\r\n\r\n                    <Grid item xs={12}>\r\n                        <Input name=\"Password\" type='password' inputRef={passwordInput} onChange={onInputChange} />\r\n                    </Grid>\r\n\r\n                    <br />\r\n\r\n\r\n                    {/* Remember me checkbox */}\r\n                    <FormControlLabel\r\n                        control={<Checkbox value=\"remember\" />}\r\n                        label=\"Remember me\"\r\n                    />\r\n\r\n                    {props.errorMessage &&\r\n                        <Typography className={classes.errorMessage} color='error'>{props.errorMessage}</Typography>}\r\n\r\n                    {/* Sign In button */}\r\n                    <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\"\r\n                        className={classes.submit} disabled={!props.button}>\r\n                        {props.authLoading ? <CircularProgress size={26} /> : \"Sign In\"}\r\n                    </Button>\r\n\r\n                    <Grid container>\r\n                        <Grid item xs>\r\n                            <Link href=\"#\" variant=\"body2\" className={classes.link}>\r\n                                Forgot password?\r\n                            </Link>\r\n                        </Grid>\r\n\r\n                        <Grid item>\r\n\r\n                            <Link onClick={() => props.history.push('/signup')} variant=\"body2\" className={classes.link}>\r\n                                Don't have an account? Sign Up\r\n                            </Link>\r\n\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n            <Box mt={8}>\r\n                <Copyright />\r\n            </Box>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default withRouter(SignIn);","import React, { useState, useEffect } from 'react';\r\nimport SignInComponent from './SignInForm';\r\nimport { connect } from 'react-redux';\r\nimport { signIn } from '../../redux/actions/auth';\r\nimport { withRouter } from 'react-router';\r\nimport MetaTags from 'react-meta-tags';\r\nimport { displaySnackBar } from '../../redux/actions/notifications';\r\n\r\nconst PageMetaTags = () => (\r\n    <MetaTags>\r\n        <title>Tech Corner - Sign In</title>\r\n        <meta name=\"description\" content=\"Log into Tech Corner\" />\r\n        <meta property=\"og:title\" content=\"Tech Corner - Sign In\" />\r\n    </MetaTags>\r\n)\r\n\r\nfunction SignIn(props: any) {\r\n    const [inputs, setInputs] = useState<any>({});\r\n    const [error, setError] = useState<string|null>(null);\r\n    const [button, enableButton] = useState<boolean>(false)\r\n\r\n    // Get input data and assign them to the component state\r\n    const getInputData = (inputData: object) => {\r\n        setInputs(inputData);\r\n    };\r\n\r\n    const onSubmit = () => {\r\n        if (!inputs.email || !inputs.password) return setError(\"Email and password are required\");\r\n        props.signIn(inputs.email, inputs.password)\r\n    }\r\n\r\n    // Redirect to the home page if user is already authenticated\r\n    useEffect(() => {\r\n        if(props.checkAuthResponse) props.history.push('/')\r\n    }, [props.checkAuthResponse])\r\n\r\n    // Handle the response that gets returned from the server\r\n    useEffect(() => {\r\n        // Create an error message if one is found\r\n        if (props.error) {\r\n            if(typeof props.error.reason === \"string\") return setError(props.error.reason)\r\n            else return setError(\"\")\r\n        };\r\n\r\n        if(!props.authResponse) return;\r\n\r\n        // Redirect to the home page if no error is found and sign in is successful\r\n        if (props.authResponse.email) {\r\n            setError(null);\r\n            props.displaySnackBar(true, `Welcome back, ${props.authResponse.firstName}!`, 'success');\r\n            props.history.push('/');\r\n        }\r\n\r\n    }, [props.authResponse, props.error]);\r\n\r\n    // Disable button if no input is entered\r\n    useEffect(() => {\r\n        if(inputs.email && inputs.password) enableButton(true)\r\n        else enableButton(false);\r\n    }, [inputs]);\r\n\r\n    return (\r\n        <>\r\n            <PageMetaTags />\r\n            <SignInComponent\r\n                sendDataToParent={getInputData}\r\n                onSubmit={onSubmit}\r\n                errorMessage={error}\r\n                button={button}\r\n                authLoading={props.authLoading}\r\n                checkAuthLoading={props.checkAuthLoading}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\n// map the redux reducer's state to the component's props\r\nconst mapStateToProps = (state: any) => {\r\n    const {authResponse, checkAuthResponse, checkAuthLoading, authLoading, authError} = state.authReducer\r\n    return {\r\n        authResponse: authResponse,\r\n        checkAuthResponse: checkAuthResponse,\r\n        checkAuthLoading: checkAuthLoading,\r\n        authLoading: authLoading,\r\n        error: authError\r\n    };\r\n};\r\n\r\n// map the redux sign in action to the component's props\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n    return {\r\n        signIn: (email: string, password: string) => {\r\n            dispatch(signIn(email, password));\r\n        },\r\n\r\n        displaySnackBar: (open: boolean, content: string, severity: string) => {\r\n            dispatch(displaySnackBar(open, content, severity))\r\n        }\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(SignIn))","import React, { useRef, useState, SyntheticEvent, useEffect } from 'react';\r\nimport {\r\n  LinearProgress,\r\n  CircularProgress,\r\n  Button,\r\n  CssBaseline,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Link,\r\n  Grid,\r\n  Box,\r\n  Typography,\r\n  Container\r\n} from '@material-ui/core'\r\nimport { withRouter } from 'react-router';\r\nimport Logo from '../../components/Logo';\r\n\r\nimport Copyright from '../../setup/Copyright';\r\nimport Input from '../../components/InputComponent';\r\n\r\n// Component Styles\r\nimport SignUpStyles from './styles/styles';\r\n\r\n\r\n\r\nfunction SignUp(props: any) {\r\n  const classes = SignUpStyles();\r\n\r\n  // Input References initalization\r\n  var emailInput = useRef<HTMLInputElement>(null),\r\n    passwordInput =useRef<HTMLInputElement>(null),\r\n    firstNameInput = useRef<HTMLInputElement>(null),\r\n    lastNameInput = useRef<HTMLInputElement>(null),\r\n    cityInput = useRef<HTMLInputElement>(null),\r\n    [phoneInput, setPhoneInput] = useState<string>(),\r\n    [city, setCity] = useState<any>();\r\n\r\n  // Errors prop object\r\n  const errors = props.errors;\r\n\r\n  // Add input values to an object and send it to the parent component using props\r\n  const onInputChange = () => {\r\n\r\n    const inputData = {\r\n      firstName: firstNameInput.current?.value,\r\n      lastName: lastNameInput.current?.value,\r\n      email: emailInput.current?.value,\r\n      phone: phoneInput,\r\n      city: city,\r\n      password: passwordInput.current?.value,\r\n    }\r\n\r\n    console.log(inputData)\r\n\r\n    props.sendDataToParent(inputData);\r\n  }\r\n\r\n  /**\r\n   * Perform the onSubmit props function once the submit button is clicked\r\n   */\r\n  const onSubmit = (e: SyntheticEvent) => {\r\n    e.preventDefault();\r\n    props.onSubmit();\r\n  };\r\n\r\n  useEffect(() => {\r\n    onInputChange()\r\n  }, [city])\r\n\r\n\r\n  if (props.checkAuthLoading || props.citiesLoading) {\r\n    return (\r\n      <LinearProgress />\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.root}>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Logo className={classes.logo} />\r\n\r\n        {/* Component Title */}\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Create an account\r\n        </Typography>\r\n\r\n        {/* Input Fields */}\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n\r\n            {/* First Name Field */}\r\n            <Grid item xs={12} sm={6}>\r\n              <Input name=\"First Name\" error={errors.firstName} inputRef={firstNameInput} onChange={onInputChange} maxLength={10} />\r\n            </Grid>\r\n\r\n            {/* Last Name Field */}\r\n            <Grid item xs={12} sm={6}>\r\n              <Input name=\"Last Name\" error={errors.lastName} inputRef={lastNameInput} onChange={onInputChange} maxLength={10} />\r\n            </Grid>\r\n\r\n            {/* Email Field */}\r\n            <Grid item xs={12}>\r\n              <Input name=\"Email\" error={errors.email} inputRef={emailInput} onChange={onInputChange} />\r\n            </Grid>\r\n\r\n            {/* City Field */}\r\n            {props.cities && <Grid item xs={12}>\r\n              <Input name=\"City\" \r\n              selectOptions={props.cities.cities}\r\n              error={errors.city} \r\n              inputRef={cityInput} \r\n              onChange={onInputChange}\r\n              value={(value: any) => setCity(value)}\r\n              type='select'\r\n              title=\"Choose a city\" />\r\n            </Grid>}\r\n\r\n            {/* Phone Number Field */}\r\n            <Grid item xs={12}>\r\n              <Input type=\"phone\" name=\"Phone Number\" error={errors.phone}\r\n                onChange={(value: string) => {\r\n                  setPhoneInput(value);\r\n                  onInputChange();\r\n                }} />\r\n            </Grid>\r\n\r\n            {/* Password Field */}\r\n            <Grid item xs={12}>\r\n              <Input name=\"Password\" error={errors.password} inputRef={passwordInput} onChange={onInputChange} type=\"password\" />\r\n            </Grid>\r\n\r\n\r\n            {/* Terms and Conditions check box */}\r\n            <Grid item xs={12}>\r\n              <FormControlLabel\r\n                control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\r\n                label=\"I agree to Tech Corner's Terms of Service and Privacy Policy\"\r\n              />\r\n            </Grid>\r\n\r\n          </Grid>\r\n\r\n          {/* Submit Button */}\r\n          <Button\r\n            fullWidth\r\n            disabled={!props.submitButton}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={(e) => {onInputChange(); onSubmit(e)}}\r\n            className={classes.submit}>\r\n            {props.authLoading ? <CircularProgress size={26} /> : 'Sign Up'}\r\n          </Button>\r\n\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n\r\n              <Link onClick={() => props.history.push('/signin')} variant=\"body2\" className={classes.link} >\r\n                Already have an account? Sign in\r\n              </Link>\r\n\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default withRouter(SignUp)","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport MetaTags from 'react-meta-tags';\r\nimport { displaySnackBar } from '../../redux/actions/notifications';\r\n\r\n// Sign Up Redux Action\r\nimport { signUp } from '../../redux/actions/auth';\r\n\r\n// Sign Up component\r\nimport SignUpComponent from './SignUpForm';\r\nimport { fetchCities } from '../../redux/actions/location';\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nconst PageMetaTags = () => (\r\n    <MetaTags>\r\n        <title>Tech Corner - Sign Up</title>\r\n        <meta name=\"description\" content=\"Create a new Tech Corner account\" />\r\n        <meta property=\"og:title\" content=\"Tech Corner - Sign Up\" />\r\n    </MetaTags>\r\n);\r\n\r\n/**\r\n * Check if the provided input matches a proper email format\r\n * Returns a boolean\r\n */\r\nconst validateEmail = (email: string) => {\r\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n};\r\n\r\n/**\r\n * Ensure that the password includes at least a single character and a digit\r\n * Returns a boolean\r\n */\r\nconst validatePassword = (password: string) => {\r\n    var re = /^(?=.*[a-zA-Z])(?=.*[0-9])/;\r\n    if (!re.test(password)) return false\r\n    else if (password.length < 8) return false\r\n    else return true\r\n}\r\n\r\nfunction SignUp(props: any) {\r\n    const [inputs, setInputs] = useState<any>();\r\n    const [errors, setErrors] = useState<any>({});\r\n    const [submitButton, enableSubmitButton] = useState<boolean>(false);\r\n\r\n    const getInputData = (inputData: any) => {\r\n        console.log(inputData)\r\n        if (!inputData) return;\r\n        setInputs(inputData);\r\n        let inputErrors = {}\r\n\r\n        // Input Validation\r\n\r\n        const { firstName, lastName, email, password, city, phone } = inputData;\r\n\r\n        if (firstName && firstName.length < 4) inputErrors = ({ ...inputErrors, firstName: \"First name must contain at least 4 characters\" })\r\n        else inputErrors = ({ ...inputErrors, firstName: null });\r\n\r\n        if (lastName && lastName.length < 4) inputErrors = ({ ...inputErrors, lastName: \"Last name must contain at least 4 characters\" })\r\n        else inputErrors = ({ ...inputErrors, lastName: null });\r\n\r\n        // // // COUNTRY WILL BE EDITED ONCE A DROP DOWN LIST IS ADDED\r\n        if (city && city === \"none\" || city && city.length < 3) inputErrors = ({ ...inputErrors, city: \"Please select a city\" })\r\n        else inputErrors = ({ ...inputErrors, city: null })\r\n\r\n        if (password && !validatePassword(password)) inputErrors = ({ ...inputErrors, password: \"Password must be a mixture of characters & numbers and contain minimum 8 characters\" })\r\n        else inputErrors = ({ ...inputErrors, password: null });\r\n\r\n        if (email && !validateEmail(email)) inputErrors = ({ ...inputErrors, email: \"Invalid email format\" })\r\n        else inputErrors = ({ ...inputErrors, email: null })\r\n\r\n        if (phone && (phone.length > 15 || phone.length < 8)) inputErrors = ({ ...inputErrors, phone: \"Phone number is too short or too long\" })\r\n        else inputErrors = ({ ...inputErrors, phone: null });\r\n\r\n        setErrors(inputErrors)\r\n    };\r\n\r\n    // Fetch all cities from the API once the component mounts\r\n    useEffect(() => {\r\n        props.fetchCities()\r\n    }, [])\r\n\r\n    // Redirect to the home page if the user is already authenticated\r\n    useEffect(() => {\r\n        if (props.checkAuthResponse) props.history.push('/');\r\n    }, [props.checkAuthResponse]);\r\n\r\n    // Disable the Submit button if any of the inputs are empty or if there's an error\r\n    useEffect(() => {\r\n        // if (!inputs) return;\r\n        // const { firstName, lastName, email, password, city, phone } = inputs;\r\n\r\n        // let error = false;\r\n\r\n        // // Check each property of the errors object for errors\r\n        // for (let key in errors) {\r\n        //     if (errors.hasOwnProperty(key)) {\r\n        //         if (errors[key]) error = true\r\n        //     }\r\n        // }\r\n\r\n        // // Check if all inputs are filled before enabling the button\r\n        // if (firstName && lastName && email && password && city !== 'none' && phone && !error) return enableSubmitButton(true);\r\n        // else return enableSubmitButton(false);\r\n\r\n        enableSubmitButton(true);\r\n\r\n    }, [errors, inputs])\r\n\r\n    // Handle API resposne and errors\r\n    useEffect(() => {\r\n        if (!props.responseError && !props.authResponse) return;\r\n        if (props.responseError) setErrors(props.responseError.reason);\r\n        else {\r\n            setErrors(null);\r\n            props.displaySnackBar(true, `Welcome, ${props.authResponse.firstName}!`, 'success');\r\n            props.history.push('/')\r\n        }\r\n\r\n    }, [props.authResponse, props.responseError]);\r\n\r\n    const onSubmit = () => {\r\n        if(!inputs) return;\r\n        console.log(inputs)\r\n        const { firstName, lastName, email, password, city, phone } = inputs;\r\n        props.signUp({ firstName, lastName, email, password, city, phone });\r\n    };\r\n\r\n    if(props.citiesLoading) return <LinearProgress />\r\n\r\n    return (\r\n        <>\r\n            <PageMetaTags />\r\n            <SignUpComponent sendDataToParent={getInputData}\r\n                errors={errors}\r\n                onSubmit={onSubmit}\r\n                submitButton={submitButton}\r\n                authResponse={props.authResponse}\r\n                authLoading={props.authLoading}\r\n                citiesLoading={props.citiesLoading}\r\n                checkAuthLoading={props.checkAuthLoading}\r\n                cities={props.citiesResponse}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\n// Map the redux reducer's state to the component's props\r\nconst mapStateToProps = (state: any) => {\r\n    const { authResponse, checkAuthResponse, authLoading, checkAuthLoading, authError } = state.authReducer;\r\n    const {response: citiesResponse, loading: citiesLoading} = state.locationReducer;\r\n\r\n\r\n    return {\r\n        authResponse: authResponse,\r\n        checkAuthResponse: checkAuthResponse,\r\n        citiesResponse: citiesResponse,\r\n        checkAuthLoading: checkAuthLoading,\r\n        citiesLoading: citiesLoading,\r\n        authLoading: authLoading,\r\n        responseError: authError,\r\n\r\n    };\r\n};\r\n\r\n// Map the redux sign in action to the component's props\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n    return {\r\n        signUp: (body: any) => {\r\n            dispatch(signUp(body));\r\n        },\r\n        displaySnackBar: (open: boolean, content: string, severity: string) => {\r\n            dispatch(displaySnackBar(open, content, severity))\r\n        },\r\n        fetchCities: () => {\r\n            dispatch(fetchCities())\r\n        }\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(SignUp));","import {\n    fetchDataBegin,\n    fetchDataSuccess,\n    fetchDataFailure,\n    httpRequest\n} from '../helpers';\nimport { Dispatch } from 'react';\n\n/** \n * GET /api/v1/location/cities\n * Get all supported cities from the API\n */\n\n export function fetchCities() {\n     return (dispatch: Dispatch<any>) => {\n         dispatch(fetchDataBegin('GET_CITIES'));\n         httpRequest('GET', '/v1/location/cities')\n         .then((response) => {\n             console.log(response)\n             dispatch(fetchDataSuccess('GET_CITIES', response))\n         })\n         .catch(err => dispatch(fetchDataFailure('GET_CITIES', err.message)))\n     };\n };","import { makeStyles } from '@material-ui/core/styles';\r\n\r\n// Styles for the home page\r\nconst useStyles = makeStyles(theme => {\r\n\r\n    return (\r\n        {\r\n            title: {\r\n                color: theme.palette.primary.main,\r\n                marginTop: 32,\r\n                marginBottom: 32,\r\n\r\n                [theme.breakpoints.down('sm')]: {\r\n                    fontSize: 27,\r\n                    marginTop: 26,\r\n                    marginBottom: 26\r\n                },\r\n\r\n                [theme.breakpoints.up('sm')]: {\r\n                    textAlign: 'left',\r\n                }\r\n            },\r\n\r\n            paper: {\r\n                marginTop: theme.spacing(8),\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                paddingBottom: 16\r\n            },\r\n\r\n            inputField: {\r\n                background: theme.palette.background.default\r\n            },\r\n\r\n            form: {\r\n                width: '100%',\r\n                marginTop: theme.spacing(4),\r\n            },\r\n\r\n            errorMessage: {\r\n                marginTop: 8\r\n            },\r\n\r\n\r\n            submit: {\r\n                margin: theme.spacing(3, 0, 2),\r\n                height: 52,\r\n                fontSize: 16\r\n            },\r\n\r\n        }\r\n    )\r\n})\r\n\r\nexport default useStyles;","import React, {useState, SyntheticEvent, useRef } from 'react';\r\nimport Styles from './styles/styles';\r\nimport { Grid, CircularProgress, Button } from '@material-ui/core';\r\nimport Input from '../../components/InputComponent';\r\n\r\nfunction Inputs(props: any) {\r\n    const classes = Styles();\r\n    const [button, setButton] = useState<boolean>(false);\r\n\r\n    const titleInput = useRef<HTMLInputElement>(null);\r\n    const detailsInput = useRef<HTMLInputElement>(null);\r\n    const priceInput = useRef<HTMLInputElement>(null);\r\n    const categoryInput = useRef<HTMLInputElement>(null);\r\n\r\n    /**\r\n     * Send input values to the parent component\r\n     */\r\n    const onInputChange = () => {\r\n\r\n        const title = titleInput.current?.value;\r\n        const details = detailsInput.current?.value;\r\n        const category = categoryInput.current?.value;\r\n        const price = priceInput.current?.value;\r\n        let inputData = { title, details, price, category };\r\n\r\n        if(!title || !details || !category || !price) setButton(false);\r\n        else setButton(true);\r\n\r\n        console.log(category)\r\n\r\n        props.sendDataToParent(inputData)\r\n    };\r\n\r\n    /**\r\n     * Perform the onSubmit props function once the submit button is clicked\r\n     */\r\n\r\n    const onSubmit = (e: SyntheticEvent) => {\r\n        e.preventDefault();\r\n        props.onSubmit();\r\n    };\r\n\r\n    return (\r\n        <form className={classes.form} noValidate onSubmit={(e) => onSubmit(e)}>\r\n\r\n            <Grid item xs={12}>\r\n                <Input name=\"Title\" inputRef={titleInput} onChange={onInputChange} error={props.errors.title} />\r\n            </Grid>\r\n            <br />\r\n\r\n            <Grid item xs={12}>\r\n                <Input\r\n                    name=\"Product Information\"\r\n                    inputRef={detailsInput}\r\n                    onChange={() => onInputChange()}\r\n                    multiline={true}\r\n                    rows={12}\r\n                    error={props.errors.details} \r\n                />\r\n            </Grid>\r\n\r\n            <br />\r\n\r\n            <Grid item xs={12}>\r\n                <Input name=\"Price\" inputRef={priceInput} onChange={onInputChange} type='number'/>\r\n            </Grid>\r\n\r\n            <br />\r\n\r\n            <Grid item xs={12}>\r\n                <Input\r\n                    name=\"category\"\r\n                    inputRef={categoryInput}\r\n                    onChange={onInputChange}\r\n                    type='select'\r\n                    error={props.errors.category}\r\n                    selectOptions={props.categories}\r\n                    title={\"Choose a category\"}\r\n                />\r\n            </Grid>\r\n\r\n            <Button disabled={!button ? !button : props.loading} \r\n            type=\"submit\" \r\n            fullWidth variant=\"contained\" color=\"primary\" onClick={() => onInputChange()}\r\n                className={classes.submit}>\r\n                {props.loading ? <CircularProgress size={26} /> : \"Submit\"}\r\n            </Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Inputs;","import React, { useState, SyntheticEvent } from 'react';\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\n\r\nimport {\r\n    Typography, IconButton, makeStyles, Grid\r\n} from '@material-ui/core';\r\n\r\n// Styles for the home page\r\nconst useStyles = makeStyles(theme => {\r\n\r\n    return (\r\n        {\r\n            image: {\r\n                height: 200\r\n            },\r\n\r\n            iconButtonLabel: {\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n            }\r\n        }\r\n    )\r\n})\r\n\r\nfunction Upload({sendDataToParent, errors} : any) {\r\n    const [images, setImages] = useState<any>([]);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const classes = useStyles();\r\n\r\n    const onInputChange = (e: SyntheticEvent) => {\r\n        const { files } = e.target as any;\r\n        let error = true;\r\n\r\n        Array.from(files).forEach((file: any) => {\r\n            console.log(file.size)\r\n            if(file.size > 2000000) return error = true;\r\n            else error = false;\r\n        });\r\n        \r\n        if (error) return setError('Maximum size allowed is 2 MB per file');\r\n        else if (files[4]) return setError(\"Cannot upload more than 4 images\");\r\n        else setError(null);\r\n\r\n        let urls: any[] = [];\r\n\r\n        Array.from(files).forEach((file: any) => {\r\n            urls.push(URL.createObjectURL(file));\r\n        });\r\n\r\n        setImages(urls);\r\n        sendDataToParent(files);\r\n        \r\n    };\r\n\r\n    return (\r\n        <>\r\n            <input accept=\"image/*\" id=\"icon-button-file\" type=\"file\" style={{ display: 'none' }} onChange={onInputChange} name='files' multiple />\r\n            <label htmlFor=\"icon-button-file\">\r\n                <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\" classes={{ label: classes.iconButtonLabel }}>\r\n                    <PhotoCamera />\r\n                    <Typography variant=\"subtitle1\" align=\"center\">\r\n                        Upload Images\r\n                    </Typography>\r\n                </IconButton>\r\n            </label>\r\n\r\n            {error && <Typography variant=\"subtitle1\" align='center' color=\"error\">{error}</Typography>}\r\n            {errors.images && <Typography variant=\"subtitle1\" align='center' color=\"error\">{errors.images}</Typography>}\r\n\r\n            <br />\r\n\r\n            \r\n            {/* Selected Images Preview */}\r\n            <Grid\r\n                container\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n                alignItems=\"flex-start\"\r\n                spacing={2}>\r\n\r\n                {images.map((image: any, index: number) => (\r\n                    <Grid item key={index}>\r\n                        <img className={classes.image} src={image} alt='uploaded' />\r\n                    </Grid>\r\n                ))}\r\n\r\n            </Grid>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Upload;","import React, { useEffect, useState, Dispatch } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter, RouteComponentProps } from 'react-router';\r\nimport MetaTags from 'react-meta-tags';\r\nimport { LinearProgress, Container, Typography } from '@material-ui/core';\r\nimport { displaySnackBar } from '../../redux/actions/notifications';\r\nimport Inputs from './inputs';\r\nimport { createItem, uploadImages, fetchItems, getCategories } from '../../redux/actions/items';\r\nimport Upload from './image-upload';\r\nimport useStyles from './styles/styles';\r\nimport Category from '../../types/Category';\r\n\r\n// Metatags\r\nconst PageMetaTags = () => (\r\n    <MetaTags>\r\n        <title>Tech Corner - Sell Item</title>\r\n        <meta name=\"description\" content=\"Sell a new item on Tech Corner\" />\r\n        <meta property=\"og:title\" content=\"Tech Corner - Sell Item\" />\r\n    </MetaTags>\r\n)\r\n\r\ninterface Props extends RouteComponentProps {\r\n    displaySnackBar: (open: boolean, content: string, severity: string) => void,\r\n    createItem: (body: any, cb: any) => void,\r\n    uploadImages: (itemId: string, body: any, cb: any) => void,\r\n    fetchItems: () => void,\r\n    getCategories: () => void,\r\n    authError: object,\r\n    response: object,\r\n    error: object,\r\n    history: any,\r\n    checkAuthLoading: boolean,\r\n    categories: Array<Category>,\r\n}\r\n\r\nfunction SellItemPage(props: Props) {\r\n    const [inputs, setInputs] = useState<any>();\r\n    const [images, setImages] = useState<any>();\r\n    const [errors, setErrors] = useState({});\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n    const classes = useStyles();\r\n\r\n    const {\r\n        authError, history, displaySnackBar, response, error,\r\n        checkAuthLoading, createItem, uploadImages, fetchItems,\r\n        categories, getCategories\r\n    } = props;\r\n\r\n    // Redirect to sign in page if user is not authenticated\r\n    useEffect(() => {\r\n        getCategories()\r\n        if (authError && !checkAuthLoading) {\r\n            displaySnackBar(true, 'You have to sign in before selling an item', 'warning');\r\n            history.push('/signin');\r\n        }\r\n    }, [authError]);\r\n\r\n    // Get inputs value from child inputs component\r\n    const getInputData = (inputData: any) => {\r\n        setInputs(inputData);\r\n    }\r\n\r\n    // Get images from the Upload component\r\n    const getImageData = (imageData: any) => {\r\n        setImages(imageData);\r\n        setErrors({ ...errors, images: null })\r\n    }\r\n\r\n    // Submit data to the API\r\n    const onSubmit = () => {\r\n        const { title, details, price, category } = inputs;\r\n        let errorsObject = {};\r\n        let error: boolean = false;\r\n\r\n        // Error handling\r\n        if (category === 'none') { errorsObject = { ...errorsObject, category: \"Please select a category\" }; error = true }\r\n        else { errorsObject = { ...errorsObject, category: null }; error = false }\r\n\r\n        if (!images) { errorsObject = { ...errorsObject, images: \"Please select at least 1 image\" }; error = true }\r\n        else { errorsObject = { ...errorsObject, images: null }; error = false }\r\n\r\n        if (error) return setErrors(errorsObject);\r\n        else setErrors({});\r\n\r\n        const payload = { title, details, price, category };\r\n        setLoading(true);\r\n\r\n        // POST Action\r\n        createItem(payload, (response: any, error: any) => {\r\n\r\n            if(response) displaySnackBar(true, 'Post is currently processing...', 'info');\r\n            setLoading(false)\r\n\r\n            if (error) return setErrors(error.reason);\r\n\r\n            let formData = new FormData();\r\n            Array.from(images).forEach((image: any) => {\r\n                formData.append('itemImages', image, image.name);\r\n            });\r\n\r\n            // Start image upload once the item is created\r\n            uploadImages(response._id, formData, () => {\r\n\r\n                // Display success snackbar & refetch the homepage posts once the images are uploaded\r\n                displaySnackBar(true, 'Your post is now active', 'success');\r\n            });\r\n\r\n            // Redirect to the home page\r\n            history.push('/');\r\n        })\r\n    }\r\n\r\n    // Return loading progress bar if check auth is loading\r\n    if (checkAuthLoading) return <LinearProgress />\r\n\r\n    return (\r\n        <Container component='main'>\r\n            <PageMetaTags />\r\n            {loading && <LinearProgress />}\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h4\" className={classes.title}>Add a new item</Typography>\r\n                <Upload sendDataToParent={getImageData} errors={errors} />\r\n                <Container component='main' maxWidth='xs'>\r\n                    <Inputs\r\n                        onSubmit={onSubmit}\r\n                        sendDataToParent={getInputData}\r\n                        errors={errors}\r\n                        loading={loading}\r\n                        categories={categories} />\r\n                </Container>\r\n\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\n// Map the reducers' state to the component's props\r\nconst mapStateToProps = (state: any) => {\r\n    const { checkAuthError, checkAuthLoading } = state.authReducer;\r\n    const { response, error, loading } = state.createItemReducer;\r\n    const { response: categories } = state.categoriesReducer;\r\n\r\n    return {\r\n        authError: checkAuthError,\r\n        checkAuthLoading: checkAuthLoading,\r\n        response: response,\r\n        categories: categories,\r\n        error: error,\r\n        loading: loading\r\n    }\r\n};\r\n\r\n// Map redux actions to the component props\r\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => {\r\n    return {\r\n        displaySnackBar: (open: boolean, content: string, severity: string) => {\r\n            dispatch(displaySnackBar(open, content, severity))\r\n        },\r\n\r\n        createItem: (body: any, cb: (response: any, error: any) => void) => {\r\n            dispatch(createItem(body, cb))\r\n        },\r\n\r\n        uploadImages: (itemId: string, body: any, cb: () => void) => {\r\n            dispatch(uploadImages(itemId, body, cb))\r\n        },\r\n\r\n        fetchItems: () => {\r\n            dispatch(fetchItems())\r\n        },\r\n\r\n        getCategories: () => {\r\n            dispatch(getCategories())\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(SellItemPage));","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport HomePage from '../pages/home';\r\nimport SignIn from '../pages/auth/sign-in';\r\nimport SignUp from '../pages/auth/sign-up';\r\nimport SellItem from '../pages/sell-item'\r\n\r\nexport default class Router extends Component {\r\n    render(){\r\n        return (\r\n            <Switch>\r\n                <Route exact path='/home' component={HomePage} />\r\n                <Route path='/signin' component={SignIn} />\r\n                <Route path='/signup' component={SignUp} />\r\n                <Route path='/sell' component={SellItem} /> \r\n                <Route component={HomePage} />  \r\n            </Switch>\r\n        )\r\n    }\r\n}","import React, { Dispatch } from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { displaySnackBar } from '../redux/actions/notifications'\r\nimport { connect } from 'react-redux';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nconst Alert = (props: any) => {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nfunction SnackBar({ open, content, severity, displaySnackBar }: any) {\r\n\r\n    const handleClose = () => {\r\n        displaySnackBar(false, null);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                open={open}\r\n                autoHideDuration={6000}\r\n                onClose={handleClose}>\r\n                <Alert\r\n                    severity={severity}\r\n                    action={\r\n                        <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\r\n                            <CloseIcon fontSize=\"small\" />\r\n                        </IconButton>\r\n                    }>\r\n                    {content}\r\n                </Alert>\r\n\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state: any) => {\r\n    const { open, content, severity } = state.notificationReducer;\r\n    return {\r\n        open,\r\n        content,\r\n        severity\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => {\r\n    return {\r\n        displaySnackBar: (open: boolean, content: string, severity: string) => {\r\n            dispatch(displaySnackBar(open, content, severity));\r\n        }\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SnackBar);","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = makeStyles(theme => ({\r\n    router: {\r\n        marginTop: 64,\r\n        [theme.breakpoints.up('md')]: {\r\n            marginLeft: 250\r\n          },\r\n    }\r\n}))\r\n\r\nexport default styles;","import React, { useEffect } from 'react';\nimport Navigation from '../navigation/nav-controller';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Router from './router';\nimport SnackBar from '../components/SnackBar';\nimport Styles from './styles';\n\nfunction App() {\n  const classes = Styles()\n\n  // dark mode boolean\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n\n  // Set the default theme options (colors, backgorunds and font styling)\n  const theme = React.useMemo(\n    () =>\n      createMuiTheme({\n        palette: {\n          type: prefersDarkMode ? 'dark' : 'light',\n          primary: {main: prefersDarkMode ? '#BEC9E7' : '#264AA5'},\n          background: {\n            paper: prefersDarkMode ? \"#303030\" : \"#EBEBEF \",\n            default: prefersDarkMode ?\"#383838\" : \"#fff\", \n          }\n        },\n        typography: {\n          fontFamily: \"\\\"Montserrat\\\", sans-serif\",\n          fontSize: 14,\n          fontWeightLight: 300,\n          fontWeightRegular: 400,\n          fontWeightMedium: 500\n        },\n\n      }),\n    [prefersDarkMode],\n  );\n\n  // Set the body's background color depending on the current theme (dark or light)\n  useEffect(() => {\n    if(prefersDarkMode) document.body.style.backgroundColor = '#303030'\n    else document.body.style.backgroundColor = '#EBEBEF'\n  }, [prefersDarkMode])\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"App\">\n        <SnackBar />\n        <Navigation />\n        <div className={classes.router}>\n          <Router />\n        </div>\n      </div>\n    </ThemeProvider>\n\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './setup/index.css';\nimport App from './setup/App';\nimport store from './setup/redux-store';\nimport { Provider } from \"react-redux\"\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  ,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}